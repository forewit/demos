import{S as L,i as k,s as T,k as I,l as R,m as S,h as g,p as v,n as U,b as A,I as b,o as x,w as E,a as M,y as C,D as W,c as q,z as D,A as H,g as z,d as B,B as N}from"../chunks/index.fce9d48b.js";function O(n){let s;return{c(){s=I("main"),this.h()},l(a){s=R(a,"MAIN",{style:!0,class:!0}),S(s).forEach(g),this.h()},h(){v(s,"height","calc(100% - "+n[0]+"px)"),U(s,"class","svelte-ruqeuv")},m(a,t){A(a,s,t),n[3](s)},p(a,[t]){t&1&&v(s,"height","calc(100% - "+a[0]+"px)")},i:b,o:b,d(a){a&&g(s),n[3](null)}}}function P(n){var a;return(((a=n.match(/<style>[\s\S]*?<\/style>/g))==null?void 0:a.join(""))||"")+n.replace(/\n<style>[\s\S]*?<\/style>/g,"").split(`
`).map(t=>{var c,h,u,f,d,j;t=t.trim();const o=((c=t.match(/\{([^{}]+)\}/g))==null?void 0:c.map(l=>l.replace(/(\{|\})/g,"")))||[];let e="",r=[],i=[];for(let l=0;l<o.length;l++){const m=o[l],p=(h=m.match(/!([^ ]+)/))==null?void 0:h[1],$=(u=m.match(/#([^ ]+)/))==null?void 0:u[1],_=((f=m.match(/(^\.| \.)([^ ]+)/g))==null?void 0:f.map(y=>y.replace(/(^\.| \.)/,"")))||[],w=((d=m.match(/@([^ ]+)/g))==null?void 0:d.map(y=>y.replace(/@/,"")))||[];p?t=t.replace(`{${m}}`,`<img src="${p}" alt="${p}"${$?` id="${$}"`:""}${_.length?` class="${_.join(" ")}"`:""}${w.length?` state="${w.join(" ")}"`:""}/>`):(e=$,r=_,i=w,t=t.replace(`{${m}}`,"").trim())}if(t.startsWith("#")){const l=((j=t.match(/^(#+)/))==null?void 0:j[0].length)||1,m=t.replace(/^(#+\s*)/,"").trim();return`<h${l}${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${m}</h${l}>`}else if(t.startsWith("{")){const l=t.replace(/^{/,"").replace(/}$/,"").trim();return`<div${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${l}${t.endsWith("}")?"</div>":""}`}else return t.startsWith("}")?"</div>":t.match(/^<img[^>]+>$/)?t:t===""&&o.length===0?"<br>":`<p${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${t}</p>`}).join("")}async function F(n){return await(await fetch(n)).text()}function G(n,s,a){let{markdownURL:t}=s,{offsetTop:o=0}=s,e;function r(c){e&&c.forEach(h=>{var f;(((f=h.target.getAttribute("state"))==null?void 0:f.split(" "))||[]).forEach(d=>{e.classList.toggle(d,h.isIntersecting)})})}x(()=>{F(t).then(c=>{const h=P(c);a(1,e.innerHTML=h,e);const u=new IntersectionObserver(r,{root:e,rootMargin:"0px",threshold:.5});e.querySelectorAll("[state]").forEach(f=>u.observe(f))})});function i(c){E[c?"unshift":"push"](()=>{e=c,a(1,e)})}return n.$$set=c=>{"markdownURL"in c&&a(2,t=c.markdownURL),"offsetTop"in c&&a(0,o=c.offsetTop)},[o,e,t,i]}class J extends L{constructor(s){super(),k(this,s,G,O,T,{markdownURL:2,offsetTop:0})}}function K(n){let s,a,t,o;return document.title=s=n[0].title,t=new J({props:{markdownURL:n[0].url,offsetTop:50}}),{c(){a=M(),C(t.$$.fragment)},l(e){W("svelte-tef83d",document.head).forEach(g),a=q(e),D(t.$$.fragment,e)},m(e,r){A(e,a,r),H(t,e,r),o=!0},p(e,[r]){(!o||r&1)&&s!==(s=e[0].title)&&(document.title=s);const i={};r&1&&(i.markdownURL=e[0].url),t.$set(i)},i(e){o||(z(t.$$.fragment,e),o=!0)},o(e){B(t.$$.fragment,e),o=!1},d(e){e&&g(a),N(t,e)}}}function Q(n,s,a){let{data:t}=s;return n.$$set=o=>{"data"in o&&a(0,t=o.data)},[t]}class X extends L{constructor(s){super(),k(this,s,Q,K,T,{data:0})}}export{X as default};
