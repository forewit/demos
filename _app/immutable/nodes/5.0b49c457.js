import{S as T,i as k,s as L,k as A,l as U,m as x,h as d,p as w,n as E,b as S,I as v,o as I,w as M,a as R,y as C,D as W,c as O,z as q,A as z,g as D,d as H,B as P}from"../chunks/index.c466c57d.js";new TextEncoder;function B({params:a}){return{title:a.slug.split("-").map(s=>s[0].toUpperCase()+s.slice(1)).join(" "),url:`/markdown/${a.slug}.md`}}const N=!0,Z=Object.freeze(Object.defineProperty({__proto__:null,load:B,prerender:N},Symbol.toStringTag,{value:"Module"}));function F(a){let s;return{c(){s=A("main"),this.h()},l(n){s=U(n,"MAIN",{style:!0,class:!0}),x(s).forEach(d),this.h()},h(){w(s,"height","calc(100% - "+a[0]+"px)"),E(s,"class","svelte-gipc32")},m(n,t){S(n,s,t),a[3](s)},p(n,[t]){t&1&&w(s,"height","calc(100% - "+n[0]+"px)")},i:v,o:v,d(n){n&&d(s),a[3](null)}}}function G(a){var n;return(((n=a.match(/<style>[\s\S]*?<\/style>/g))==null?void 0:n.join(""))||"")+a.replace(/\n<style>[\s\S]*?<\/style>/g,"").split(`
`).map(t=>{var c,u,h,f,g,b;t=t.trim();const o=((c=t.match(/\{([^{}]+)\}/g))==null?void 0:c.map(l=>l.replace(/(\{|\})/g,"")))||[];let e="",r=[],i=[];for(let l=0;l<o.length;l++){const m=o[l],p=(u=m.match(/!([^ ]+)/))==null?void 0:u[1],$=(h=m.match(/#([^ ]+)/))==null?void 0:h[1],_=((f=m.match(/(^\.| \.)([^ ]+)/g))==null?void 0:f.map(y=>y.replace(/(^\.| \.)/,"")))||[],j=((g=m.match(/@([^ ]+)/g))==null?void 0:g.map(y=>y.replace(/@/,"")))||[];p?t=t.replace(`{${m}}`,`<img src="${p}" alt="${p}"${$?` id="${$}"`:""}${_.length?` class="${_.join(" ")}"`:""}${j.length?` state="${j.join(" ")}"`:""}/>`):(e=$,r=_,i=j,t=t.replace(`{${m}}`,"").trim())}if(t.startsWith("#")){const l=((b=t.match(/^(#+)/))==null?void 0:b[0].length)||1,m=t.replace(/^(#+\s*)/,"").trim();return`<h${l}${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${m}</h${l}>`}else if(t.startsWith("{")){const l=t.replace(/^{/,"").replace(/}$/,"").trim();return`<div${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${l}${t.endsWith("}")?"</div>":""}`}else return t.startsWith("}")?"</div>":t.match(/^<img[^>]+>$/)?t:t===""&&o.length===0?"<br>":`<p${e?` id="${e}"`:""}${r.length>0?` class="${r.join(" ")}"`:""}${i.length>0?` state="${i.join(" ")}"`:""}>${t}</p>`}).join("")}async function J(a){return await(await fetch(a)).text()}function K(a,s,n){let{markdownURL:t}=s,{offsetTop:o=0}=s,e;function r(c){e&&c.forEach(u=>{var f;(((f=u.target.getAttribute("state"))==null?void 0:f.split(" "))||[]).forEach(g=>{e.classList.toggle(g,u.isIntersecting)})})}I(()=>{J(t).then(c=>{const u=G(c);n(1,e.innerHTML=u,e);const h=new IntersectionObserver(r,{root:e,rootMargin:"0px",threshold:.5});e.querySelectorAll("[state]").forEach(f=>h.observe(f))})});function i(c){M[c?"unshift":"push"](()=>{e=c,n(1,e)})}return a.$$set=c=>{"markdownURL"in c&&n(2,t=c.markdownURL),"offsetTop"in c&&n(0,o=c.offsetTop)},[o,e,t,i]}class Q extends T{constructor(s){super(),k(this,s,K,F,L,{markdownURL:2,offsetTop:0})}}function V(a){let s,n,t,o;return document.title=s=a[0].title,t=new Q({props:{markdownURL:a[0].url,offsetTop:50}}),{c(){n=R(),C(t.$$.fragment)},l(e){W("svelte-tef83d",document.head).forEach(d),n=O(e),q(t.$$.fragment,e)},m(e,r){S(e,n,r),z(t,e,r),o=!0},p(e,[r]){(!o||r&1)&&s!==(s=e[0].title)&&(document.title=s);const i={};r&1&&(i.markdownURL=e[0].url),t.$set(i)},i(e){o||(D(t.$$.fragment,e),o=!0)},o(e){H(t.$$.fragment,e),o=!1},d(e){e&&d(n),P(t,e)}}}function X(a,s,n){let{data:t}=s;return a.$$set=o=>{"data"in o&&n(0,t=o.data)},[t]}class tt extends T{constructor(s){super(),k(this,s,X,V,L,{data:0})}}export{tt as component,Z as universal};
