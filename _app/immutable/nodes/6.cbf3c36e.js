import{S as I,i as M,s as R,k as z,l as D,m as H,h as $,p as x,n as P,b as C,I as E,J as B,o as J,w as N,a as F,y as G,D as K,c as Q,z as V,A as X,g as Y,d as Z,B as tt}from"../chunks/index.c466c57d.js";import{p as et}from"../chunks/stores.f5767200.js";new TextEncoder;function st({params:a}){return{title:a.slug.split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join(" "),url:`/markdown/${a.slug}.md`}}const nt=!0,ht=Object.freeze(Object.defineProperty({__proto__:null,load:st,prerender:nt},Symbol.toStringTag,{value:"Module"}));function at(a){let t;return{c(){t=z("main"),this.h()},l(s){t=D(s,"MAIN",{style:!0,class:!0}),H(t).forEach($),this.h()},h(){x(t,"height","calc(100% - "+a[0]+"px)"),P(t,"class","svelte-gipc32")},m(s,r){C(s,t,r),a[3](t)},p(s,[r]){r&1&&x(t,"height","calc(100% - "+s[0]+"px)")},i:E,o:E,d(s){s&&$(t),a[3](null)}}}async function rt(a){return await(await fetch(a)).text()}function ot(a,t,s){let r;B(a,et,o=>s(4,r=o));let l=r.url,{markdownURL:n}=t,{offsetTop:m=0}=t,c;function W(o){var d;return(((d=o.match(/<style>[\s\S]*?<\/style>/g))==null?void 0:d.join(""))||"")+o.replace(/\n<style>[\s\S]*?<\/style>/g,"").split(`
`).map(e=>{var T,k,L,S,A,U;e=e.trim();const _=((T=e.match(/\{([^{}]+)\}/g))==null?void 0:T.map(i=>i.replace(/(\{|\})/g,"")))||[];let h="",f=[],p=[];for(let i=0;i<_.length;i++){const u=_[i],b=(k=u.match(/!([^ ]+)/))==null?void 0:k[1],j=(L=u.match(/#([^ ]+)/))==null?void 0:L[1],y=((S=u.match(/(^\.| \.)([^ ]+)/g))==null?void 0:S.map(v=>v.replace(/(^\.| \.)/,"")))||[],w=((A=u.match(/@([^ ]+)/g))==null?void 0:A.map(v=>v.replace(/@/,"")))||[];b?e=e.replace(`{${u}}`,`<img src="${l}${b}" alt="${b}"${j?` id="${j}"`:""}${y.length?` class="${y.join(" ")}"`:""}${w.length?` state="${w.join(" ")}"`:""}/>`):(h=j,f=y,p=w,e=e.replace(`{${u}}`,"").trim())}if(e.startsWith("#")){const i=((U=e.match(/^(#+)/))==null?void 0:U[0].length)||1,u=e.replace(/^(#+\s*)/,"").trim();return`<h${i}${h?` id="${h}"`:""}${f.length>0?` class="${f.join(" ")}"`:""}${p.length>0?` state="${p.join(" ")}"`:""}>${u}</h${i}>`}else if(e.startsWith("{")){const i=e.replace(/^{/,"").replace(/}$/,"").trim();return`<div${h?` id="${h}"`:""}${f.length>0?` class="${f.join(" ")}"`:""}${p.length>0?` state="${p.join(" ")}"`:""}>${i}${e.endsWith("}")?"</div>":""}`}else return e.startsWith("}")?"</div>":e.match(/^<img[^>]+>$/)?e:e===""&&_.length===0?"<br>":`<p${h?` id="${h}"`:""}${f.length>0?` class="${f.join(" ")}"`:""}${p.length>0?` state="${p.join(" ")}"`:""}>${e}</p>`}).join("")}function O(o){c&&o.forEach(g=>{var e;(((e=g.target.getAttribute("state"))==null?void 0:e.split(" "))||[]).forEach(_=>{c.classList.toggle(_,g.isIntersecting)})})}J(()=>{rt(n).then(o=>{const g=W(o);s(1,c.innerHTML=g,c);const d=new IntersectionObserver(O,{root:c,rootMargin:"0px",threshold:.5});c.querySelectorAll("[state]").forEach(e=>d.observe(e))})});function q(o){N[o?"unshift":"push"](()=>{c=o,s(1,c)})}return a.$$set=o=>{"markdownURL"in o&&s(2,n=o.markdownURL),"offsetTop"in o&&s(0,m=o.offsetTop)},[m,c,n,q]}class ct extends I{constructor(t){super(),M(this,t,ot,at,R,{markdownURL:2,offsetTop:0})}}function lt(a){let t,s,r,l;return document.title=t=a[0].title,r=new ct({props:{markdownURL:a[0].url,offsetTop:50}}),{c(){s=F(),G(r.$$.fragment)},l(n){K("svelte-tef83d",document.head).forEach($),s=Q(n),V(r.$$.fragment,n)},m(n,m){C(n,s,m),X(r,n,m),l=!0},p(n,[m]){(!l||m&1)&&t!==(t=n[0].title)&&(document.title=t);const c={};m&1&&(c.markdownURL=n[0].url),r.$set(c)},i(n){l||(Y(r.$$.fragment,n),l=!0)},o(n){Z(r.$$.fragment,n),l=!1},d(n){n&&$(s),tt(r,n)}}}function it(a,t,s){let{data:r}=t;return a.$$set=l=>{"data"in l&&s(0,r=l.data)},[r]}class ft extends I{constructor(t){super(),M(this,t,it,lt,R,{data:0})}}export{ft as component,ht as universal};
