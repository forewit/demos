import{b as z}from"../chunks/paths.3559c8ef.js";import{S as I,i as M,s as R,k as D,l as H,m as P,h as $,p as x,n as B,b as C,I as E,J,o as N,w as F,a as G,y as K,D as Q,c as V,z as X,A as Y,g as Z,d as tt,B as et}from"../chunks/index.b8f8e0ce.js";import{p as st}from"../chunks/stores.37396499.js";new TextEncoder;function nt({params:a}){return{title:a.slug.split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join(" "),url:`${z}/markdown/${a.slug}.md`}}const at=!0,pt=Object.freeze(Object.defineProperty({__proto__:null,load:nt,prerender:at},Symbol.toStringTag,{value:"Module"}));function rt(a){let t;return{c(){t=D("main"),this.h()},l(s){t=H(s,"MAIN",{style:!0,class:!0}),P(t).forEach($),this.h()},h(){x(t,"height","calc(100% - "+a[0]+"px)"),B(t,"class","svelte-gipc32")},m(s,r){C(s,t,r),a[3](t)},p(s,[r]){r&1&&x(t,"height","calc(100% - "+s[0]+"px)")},i:E,o:E,d(s){s&&$(t),a[3](null)}}}async function ot(a){return await(await fetch(a)).text()}function ct(a,t,s){let r;J(a,st,o=>s(4,r=o));let i=r.url,{markdownURL:n}=t,{offsetTop:m=0}=t,c;function W(o){var d;return(((d=o.match(/<style>[\s\S]*?<\/style>/g))==null?void 0:d.join(""))||"")+o.replace(/\n<style>[\s\S]*?<\/style>/g,"").split(`
`).map(e=>{var T,k,L,S,A,U;e=e.trim();const _=((T=e.match(/\{([^{}]+)\}/g))==null?void 0:T.map(l=>l.replace(/(\{|\})/g,"")))||[];let f="",h=[],p=[];for(let l=0;l<_.length;l++){const u=_[l],b=(k=u.match(/!([^ ]+)/))==null?void 0:k[1],j=(L=u.match(/#([^ ]+)/))==null?void 0:L[1],y=((S=u.match(/(^\.| \.)([^ ]+)/g))==null?void 0:S.map(v=>v.replace(/(^\.| \.)/,"")))||[],w=((A=u.match(/@([^ ]+)/g))==null?void 0:A.map(v=>v.replace(/@/,"")))||[];b?e=e.replace(`{${u}}`,`<img src="${i}${b}" alt="${b}"${j?` id="${j}"`:""}${y.length?` class="${y.join(" ")}"`:""}${w.length?` state="${w.join(" ")}"`:""}/>`):(f=j,h=y,p=w,e=e.replace(`{${u}}`,"").trim())}if(e.startsWith("#")){const l=((U=e.match(/^(#+)/))==null?void 0:U[0].length)||1,u=e.replace(/^(#+\s*)/,"").trim();return`<h${l}${f?` id="${f}"`:""}${h.length>0?` class="${h.join(" ")}"`:""}${p.length>0?` state="${p.join(" ")}"`:""}>${u}</h${l}>`}else if(e.startsWith("{")){const l=e.replace(/^{/,"").replace(/}$/,"").trim();return`<div${f?` id="${f}"`:""}${h.length>0?` class="${h.join(" ")}"`:""}${p.length>0?` state="${p.join(" ")}"`:""}>${l}${e.endsWith("}")?"</div>":""}`}else return e.startsWith("}")?"</div>":e.match(/^<img[^>]+>$/)?e:e===""&&_.length===0?"<br>":`<p${f?` id="${f}"`:""}${h.length>0?` class="${h.join(" ")}"`:""}${p.length>0?` state="${p.join(" ")}"`:""}>${e}</p>`}).join("")}function O(o){c&&o.forEach(g=>{var e;(((e=g.target.getAttribute("state"))==null?void 0:e.split(" "))||[]).forEach(_=>{c.classList.toggle(_,g.isIntersecting)})})}N(()=>{ot(n).then(o=>{const g=W(o);s(1,c.innerHTML=g,c);const d=new IntersectionObserver(O,{root:c,rootMargin:"0px",threshold:.5});c.querySelectorAll("[state]").forEach(e=>d.observe(e))})});function q(o){F[o?"unshift":"push"](()=>{c=o,s(1,c)})}return a.$$set=o=>{"markdownURL"in o&&s(2,n=o.markdownURL),"offsetTop"in o&&s(0,m=o.offsetTop)},[m,c,n,q]}class it extends I{constructor(t){super(),M(this,t,ct,rt,R,{markdownURL:2,offsetTop:0})}}function lt(a){let t,s,r,i;return document.title=t=a[0].title,r=new it({props:{markdownURL:a[0].url,offsetTop:50}}),{c(){s=G(),K(r.$$.fragment)},l(n){Q("svelte-tef83d",document.head).forEach($),s=V(n),X(r.$$.fragment,n)},m(n,m){C(n,s,m),Y(r,n,m),i=!0},p(n,[m]){(!i||m&1)&&t!==(t=n[0].title)&&(document.title=t);const c={};m&1&&(c.markdownURL=n[0].url),r.$set(c)},i(n){i||(Z(r.$$.fragment,n),i=!0)},o(n){tt(r.$$.fragment,n),i=!1},d(n){n&&$(s),et(r,n)}}}function mt(a,t,s){let{data:r}=t;return a.$$set=i=>{"data"in i&&s(0,r=i.data)},[r]}class gt extends I{constructor(t){super(),M(this,t,mt,lt,R,{data:0})}}export{gt as component,pt as universal};
