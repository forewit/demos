import{S as ae,i as ne,s as le,k as v,y as se,a as S,q as R,l as g,m as N,z as ie,c as C,h as T,r as G,n,p as re,b as ee,A as oe,E as i,M as U,N as B,O,u as ue,g as ce,d as he,B as de,P as pe,Q as te,w as fe}from"../chunks/index.35df80cc.js";import{F as _e}from"../chunks/Fireworks.0ee6385d.js";function Z(e,l,s){const o=e.slice();return o[15]=l[s],o[16]=l,o[17]=s,o}function x(e){let l,s,o,r,a,t,u,d,k,D,m,b,f,j,I,V,$,p;function h(){e[8].call(o,e[16],e[17])}function q(){e[9].call(t,e[16],e[17])}function z(){e[10].call(k,e[16],e[17])}function A(){e[11].call(b,e[16],e[17])}function L(){e[12].call(I,e[16],e[17])}return{c(){l=v("div"),s=v("div"),o=v("input"),r=S(),a=v("div"),t=v("input"),u=S(),d=v("div"),k=v("input"),D=S(),m=v("div"),b=v("input"),f=S(),j=v("div"),I=v("input"),V=S(),this.h()},l(F){l=g(F,"DIV",{class:!0});var _=N(l);s=g(_,"DIV",{class:!0,"data-emoji":!0});var J=N(s);o=g(J,"INPUT",{type:!0,class:!0,name:!0}),J.forEach(T),r=C(_),a=g(_,"DIV",{class:!0,"data-emoji":!0});var M=N(a);t=g(M,"INPUT",{type:!0,class:!0,name:!0}),M.forEach(T),u=C(_),d=g(_,"DIV",{class:!0,"data-emoji":!0});var w=N(d);k=g(w,"INPUT",{type:!0,class:!0,name:!0}),w.forEach(T),D=C(_),m=g(_,"DIV",{class:!0,"data-emoji":!0});var c=N(m);b=g(c,"INPUT",{type:!0,class:!0,name:!0}),c.forEach(T),f=C(_),j=g(_,"DIV",{class:!0,"data-emoji":!0});var y=N(j);I=g(y,"INPUT",{type:!0,class:!0,name:!0}),y.forEach(T),V=C(_),_.forEach(T),this.h()},h(){n(o,"type","text"),n(o,"class","name svelte-6h24c5"),n(o,"name","name"),n(s,"class","inputWrapper svelte-6h24c5"),n(s,"data-emoji","üë§"),n(t,"type","number"),n(t,"class","hp svelte-6h24c5"),n(t,"name","hp"),n(a,"class","inputWrapper svelte-6h24c5"),n(a,"data-emoji","‚ù§Ô∏è‚Äçü©π"),n(k,"type","number"),n(k,"class","attack svelte-6h24c5"),n(k,"name","attack"),n(d,"class","inputWrapper svelte-6h24c5"),n(d,"data-emoji","‚öîÔ∏è"),n(b,"type","number"),n(b,"class","heal svelte-6h24c5"),n(b,"name","heal"),n(m,"class","inputWrapper svelte-6h24c5"),n(m,"data-emoji","üíñ"),n(I,"type","number"),n(I,"class","defense svelte-6h24c5"),n(I,"name","defense"),n(j,"class","inputWrapper svelte-6h24c5"),n(j,"data-emoji","üõ°Ô∏è"),n(l,"class","characterForm svelte-6h24c5")},m(F,_){ee(F,l,_),i(l,s),i(s,o),U(o,e[15].id),i(l,r),i(l,a),i(a,t),U(t,e[15].hp),i(l,u),i(l,d),i(d,k),U(k,e[15].attack),i(l,D),i(l,m),i(m,b),U(b,e[15].heal),i(l,f),i(l,j),i(j,I),U(I,e[15].defense_attack),i(l,V),$||(p=[B(o,"input",h),B(t,"input",q),B(k,"input",z),B(b,"input",A),B(I,"input",L)],$=!0)},p(F,_){e=F,_&4&&o.value!==e[15].id&&U(o,e[15].id),_&4&&O(t.value)!==e[15].hp&&U(t,e[15].hp),_&4&&O(k.value)!==e[15].attack&&U(k,e[15].attack),_&4&&O(b.value)!==e[15].heal&&U(b,e[15].heal),_&4&&O(I.value)!==e[15].defense_attack&&U(I,e[15].defense_attack)},d(F){F&&T(l),$=!1,te(p)}}}function me(e){let l,s,o,r,a,t,u,d,k,D,m,b,f,j,I,V,$,p,h,q,z,A,L,F,_,J={};s=new _e({props:J}),e[7](s);let M=e[2],w=[];for(let c=0;c<M.length;c+=1)w[c]=x(Z(e,M,c));return{c(){l=v("div"),se(s.$$.fragment),o=S(),r=v("div");for(let c=0;c<w.length;c+=1)w[c].c();a=S(),t=v("div"),u=v("div"),d=v("button"),k=R("-"),D=S(),m=v("button"),b=R("+"),f=S(),j=v("div"),I=S(),V=v("button"),$=R("‚ñ∂"),p=S(),h=v("input"),q=S(),z=v("pre"),A=R(e[1]),this.h()},l(c){l=g(c,"DIV",{id:!0,class:!0});var y=N(l);ie(s.$$.fragment,y),o=C(y),r=g(y,"DIV",{id:!0,class:!0});var W=N(r);for(let Q=0;Q<w.length;Q+=1)w[Q].l(W);W.forEach(T),a=C(y),t=g(y,"DIV",{id:!0,class:!0});var E=N(t);u=g(E,"DIV",{id:!0,class:!0});var P=N(u);d=g(P,"BUTTON",{class:!0});var H=N(d);k=G(H,"-"),H.forEach(T),D=C(P),m=g(P,"BUTTON",{class:!0});var K=N(m);b=G(K,"+"),K.forEach(T),f=C(P),j=g(P,"DIV",{style:!0}),N(j).forEach(T),I=C(P),V=g(P,"BUTTON",{class:!0});var X=N(V);$=G(X,"‚ñ∂"),X.forEach(T),p=C(P),h=g(P,"INPUT",{id:!0,type:!0,name:!0,class:!0}),P.forEach(T),q=C(E),z=g(E,"PRE",{id:!0,class:!0});var Y=N(z);A=G(Y,e[1]),Y.forEach(T),E.forEach(T),y.forEach(T),this.h()},h(){n(r,"id","formContainer"),n(r,"class","svelte-6h24c5"),n(d,"class","svelte-6h24c5"),n(m,"class","svelte-6h24c5"),re(j,"width","20px"),n(V,"class","svelte-6h24c5"),n(h,"id","iterations"),n(h,"type","number"),n(h,"name","iterations"),n(h,"class","svelte-6h24c5"),n(u,"id","buttonContainer"),n(u,"class","svelte-6h24c5"),n(z,"id","results"),n(z,"class","svelte-6h24c5"),n(t,"id","overlayContainer"),n(t,"class","svelte-6h24c5"),n(l,"id","mainContainer"),n(l,"class","svelte-6h24c5")},m(c,y){ee(c,l,y),oe(s,l,null),i(l,o),i(l,r);for(let W=0;W<w.length;W+=1)w[W]&&w[W].m(r,null);i(l,a),i(l,t),i(t,u),i(u,d),i(d,k),i(u,D),i(u,m),i(m,b),i(u,f),i(u,j),i(u,I),i(u,V),i(V,$),i(u,p),i(u,h),U(h,e[3]),i(t,q),i(t,z),i(z,A),L=!0,F||(_=[B(d,"click",e[5]),B(m,"click",e[4]),B(V,"click",e[6]),B(h,"input",e[13])],F=!0)},p(c,[y]){const W={};if(s.$set(W),y&4){M=c[2];let E;for(E=0;E<M.length;E+=1){const P=Z(c,M,E);w[E]?w[E].p(P,y):(w[E]=x(P),w[E].c(),w[E].m(r,null))}for(;E<w.length;E+=1)w[E].d(1);w.length=M.length}y&8&&O(h.value)!==c[3]&&U(h,c[3]),(!L||y&2)&&ue(A,c[1])},i(c){L||(ce(s.$$.fragment,c),L=!0)},o(c){he(s.$$.fragment,c),L=!1},d(c){c&&T(l),e[7](null),de(s),pe(w,c),F=!1,te(_)}}}async function ve(e,l,s){s=s||{},e.forEach(r=>r.wins=0),console.log("%cStarting simulation...","color:green; font-size:16px; font-weight: bold;");for(let r=0;r<l;r++){let a=JSON.parse(JSON.stringify(e)),t=Math.floor(Math.random()*e.length),u=`%cGame ${r+1}... ${e[t].id} starts, `;for(;;){if(a.every(f=>f.hp<=0)){u+="Tie!";break}if(a.filter(f=>f.hp>0).length===1){e[a.findIndex(f=>f.hp>0)].wins++,u+=`${a[a.findIndex(f=>f.hp>0)].id} wins!`;break}for(;a[t].hp<=0;)t=(t+1)%a.length;let d=a.filter(f=>f.hp>0&&f.id!==a[t].id),k=d[Math.floor(Math.random()*d.length)].id,D=a.findIndex(f=>f.id===k),m=0,b=0;a[t].heal>0&&d.length>1?(a[t].hp+=a[t].heal,m+=a[t].heal):(a[D].hp-=a[t].attack,a[t].hp-=a[D].defense_attack,m-=a[D].defense_attack,b-=a[t].attack),s.log_turns&&console.log(`${a[t].id} ${a[t].hp}(${m}) ‚öîÔ∏è ${k} ${a[D].hp}(${b})`),t=(t+1)%a.length}s.log_games&&console.log(u,"font-weight: bold;")}let o=e.reduce((r,a)=>r.wins>a.wins?r:a).id;return console.log("%cResults...","color:green; font-size:16px; font-weight: bold;"),console.log(e.map(r=>`${r.id===o?"üèÜ":""}${r.id}:${r.wins}`).join(" | ")),e.map(r=>`${r.id===o?"üèÜ":""}${r.id}: ${r.wins}`).join(` 
 `)}function ge(e,l,s){let o;function r(){o.launch(3,{color:"lightgreen",left:50,top:50,initialLeft:45,initialTop:100,size:30},{color:"red",left:50,top:50,initialLeft:50,initialTop:100,delay:.25},{color:"yellow",left:50,top:40,initialLeft:55,initialTop:100,delay:.5,size:60})}let a="Simulation results here...",t=[];d(),d(),d();let u=1e5;async function d(){let q=(await(await fetch("https://randomuser.me/api/")).json()).results[0].name.first;s(2,t=[...t,{id:q,hp:50,attack:9,heal:0,defense_attack:1,wins:0}])}function k(){t.length>1&&s(2,t=t.slice(0,-1))}async function D(){let p=t.map(q=>q.id);if([...new Set(p)].length!==t.length||p.includes("")){alert("All character names must be unique and not blank.");return}s(1,a="Simulating..."),setTimeout(async()=>{s(1,a=await ve(t,u,{log_turns:!1,log_games:!1})),r()},0)}function m(p){fe[p?"unshift":"push"](()=>{o=p,s(0,o)})}function b(p,h){p[h].id=this.value,s(2,t)}function f(p,h){p[h].hp=O(this.value),s(2,t)}function j(p,h){p[h].attack=O(this.value),s(2,t)}function I(p,h){p[h].heal=O(this.value),s(2,t)}function V(p,h){p[h].defense_attack=O(this.value),s(2,t)}function $(){u=O(this.value),s(3,u)}return[o,a,t,u,d,k,D,m,b,f,j,I,V,$]}class we extends ae{constructor(l){super(),ne(this,l,ge,me,le,{})}}export{we as component};
