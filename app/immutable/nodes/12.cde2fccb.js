import{S as ie,i as ne,s as ce,k,T as y,a as C,l as L,m as v,U as z,h as f,c as W,n as e,L as S,b as re,E as n,O as X,I as le,M as oe,P as de,o as fe,j as ve,q as he,r as ue,u as ge,w as K}from"../chunks/index.508fdf22.js";import{d as me,e as pe}from"../chunks/gestures.cb1a206a.js";function se(a,l,r){const c=a.slice();return c[26]=l[r],c[28]=r,c}function ae(a){let l,r,c,m,D=a[26].title+"",i,b,w,h,I,x,_,u;function p(){return a[11](a[26],a[28])}return{c(){l=k("div"),r=k("div"),c=C(),m=k("p"),i=he(D),b=C(),w=k("div"),h=y("svg"),I=y("path"),this.h()},l(B){l=L(B,"DIV",{id:!0,class:!0});var d=v(l);r=L(d,"DIV",{class:!0}),v(r).forEach(f),c=W(d),m=L(d,"P",{class:!0});var E=v(m);i=ue(E,D),E.forEach(f),b=W(d),w=L(d,"DIV",{id:!0,class:!0});var A=v(w);h=z(A,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,"xml:space":!0,class:!0});var M=v(h);I=z(M,"path",{"fill-rule":!0,d:!0}),v(I).forEach(f),M.forEach(f),A.forEach(f),d.forEach(f),this.h()},h(){e(r,"class","tab-divider svelte-d5gffv"),e(m,"class","svelte-d5gffv"),e(I,"fill-rule","evenodd"),e(I,"d","M21.002,26.588l10.357,10.604c1.039,1.072,1.715,1.083,2.773,0l2.078-2.128 c1.018-1.042,1.087-1.726,0-2.839L25.245,21L36.211,9.775c1.027-1.055,1.047-1.767,0-2.84l-2.078-2.127 c-1.078-1.104-1.744-1.053-2.773,0L21.002,15.412L10.645,4.809c-1.029-1.053-1.695-1.104-2.773,0L5.794,6.936 c-1.048,1.073-1.029,1.785,0,2.84L16.759,21L5.794,32.225c-1.087,1.113-1.029,1.797,0,2.839l2.077,2.128 c1.049,1.083,1.725,1.072,2.773,0L21.002,26.588z"),e(h,"fill","currentColor"),e(h,"version","1.1"),e(h,"xmlns","http://www.w3.org/2000/svg"),e(h,"viewBox","0 0 42 42"),e(h,"xml:space","preserve"),e(h,"class","svelte-d5gffv"),e(w,"id","close-tab"),e(w,"class","tab-bar-btn svelte-d5gffv"),e(l,"id",x=a[26].id),e(l,"class","tab svelte-d5gffv"),S(l,"active",a[26].id===a[2])},m(B,d){re(B,l,d),n(l,r),n(l,c),n(l,m),n(m,i),n(l,b),n(l,w),n(w,h),n(h,I),_||(u=X(w,"click",p),_=!0)},p(B,d){a=B,d&1&&D!==(D=a[26].title+"")&&ge(i,D),d&1&&x!==(x=a[26].id)&&e(l,"id",x),d&5&&S(l,"active",a[26].id===a[2])},d(B){B&&f(l),_=!1,u()}}}function be(a){let l,r,c,m,D,i,b,w,h,I,x,_,u,p,B,d,E,A,M,q,O,j,V,F,P,U,G,R=a[0],t=[];for(let o=0;o<R.length;o+=1)t[o]=ae(se(a,R,o));return{c(){l=k("div"),r=k("div"),c=k("div"),m=y("svg"),D=y("path"),i=C(),b=k("div");for(let o=0;o<t.length;o+=1)t[o].c();w=C(),h=k("div"),I=k("div"),x=C(),_=k("div"),u=y("svg"),p=y("path"),B=C(),d=k("div"),E=y("svg"),A=y("path"),M=C(),q=k("div"),O=C(),j=k("div"),V=k("textarea"),F=C(),P=k("div"),this.h()},l(o){l=L(o,"DIV",{class:!0});var g=v(l);r=L(g,"DIV",{class:!0});var s=v(r);c=L(s,"DIV",{id:!0,class:!0});var T=v(c);m=z(T,"svg",{viewBox:!0,xmlns:!0,fill:!0,transform:!0,class:!0});var N=v(m);D=z(N,"path",{fill:!0,d:!0}),v(D).forEach(f),N.forEach(f),T.forEach(f),i=W(s),b=L(s,"DIV",{id:!0,class:!0});var H=v(b);for(let J=0;J<t.length;J+=1)t[J].l(H);w=W(H),h=L(H,"DIV",{class:!0});var Q=v(h);I=L(Q,"DIV",{class:!0}),v(I).forEach(f),Q.forEach(f),H.forEach(f),x=W(s),_=L(s,"DIV",{id:!0,class:!0});var Y=v(_);u=z(Y,"svg",{viewBox:!0,xmlns:!0,transform:!0,class:!0});var Z=v(u);p=z(Z,"path",{fill:!0,d:!0}),v(p).forEach(f),Z.forEach(f),Y.forEach(f),B=W(s),d=L(s,"DIV",{id:!0,class:!0});var $=v(d);E=z($,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,"xml:space":!0,class:!0});var ee=v(E);A=z(ee,"path",{d:!0}),v(A).forEach(f),ee.forEach(f),$.forEach(f),s.forEach(f),M=W(g),q=L(g,"DIV",{class:!0}),v(q).forEach(f),O=W(g),j=L(g,"DIV",{class:!0});var te=v(j);V=L(te,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),v(V).forEach(f),te.forEach(f),F=W(g),P=L(g,"DIV",{class:!0}),v(P).forEach(f),g.forEach(f),this.h()},h(){e(D,"fill","currentColor"),e(D,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),e(m,"viewBox","-3 -3 22 22"),e(m,"xmlns","http://www.w3.org/2000/svg"),e(m,"fill","none"),e(m,"transform","rotate(270)"),e(m,"class","svelte-d5gffv"),e(c,"id","back"),e(c,"class","tab-bar-btn svelte-d5gffv"),S(c,"hide",!a[1]),e(I,"class","tab-divider svelte-d5gffv"),e(h,"class","tab svelte-d5gffv"),e(b,"id","tabs"),e(b,"class","svelte-d5gffv"),e(p,"fill","currentColor"),e(p,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),e(u,"viewBox","-3 -3 22 22"),e(u,"xmlns","http://www.w3.org/2000/svg"),e(u,"transform","rotate(90)"),e(u,"class","svelte-d5gffv"),e(_,"id","forward"),e(_,"class","tab-bar-btn svelte-d5gffv"),S(_,"hide",!a[1]),e(A,"d",`M39.5,22.5v-3c0-1.48-0.43-2-2-2h-13v-13c0-1.48-0.49-2-2-2h-3c-1.55,0-2,0.52-2,2v13h-14c-1.48,0-2,0.49-2,2v3\r
                c0,1.55,0.52,2,2,2h14v14c0,1.51,0.48,2,2,2h3c1.48,0,2-0.43,2-2v-14h13C39.01,24.5,39.5,24.02,39.5,22.5z`),e(E,"fill","currentColor"),e(E,"version","1.1"),e(E,"xmlns","http://www.w3.org/2000/svg"),e(E,"viewBox","0 0 42 42"),e(E,"xml:space","preserve"),e(E,"class","svelte-d5gffv"),e(d,"id","new-tab"),e(d,"class","tab-bar-btn svelte-d5gffv"),e(r,"class","tab-bar svelte-d5gffv"),S(r,"minimal",!a[1]),e(q,"class","toolbar svelte-d5gffv"),e(V,"spellcheck","false"),e(V,"name","editor"),e(V,"id","text"),e(V,"class","svelte-d5gffv"),e(j,"class","editor svelte-d5gffv"),e(P,"class","status-bar svelte-d5gffv"),e(l,"class","main-grid svelte-d5gffv")},m(o,g){re(o,l,g),n(l,r),n(r,c),n(c,m),n(m,D),n(r,i),n(r,b);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(b,null);n(b,w),n(b,h),n(h,I),a[12](h),a[13](b),n(r,x),n(r,_),n(_,u),n(u,p),n(r,B),n(r,d),n(d,E),n(E,A),n(l,M),n(l,q),n(l,O),n(l,j),n(j,V),a[15](V),n(l,F),n(l,P),U||(G=[X(window,"resize",a[6]),X(c,"click",a[10]),X(_,"click",a[14]),X(d,"click",a[8])],U=!0)},p(o,[g]){if(g&2&&S(c,"hide",!o[1]),g&517){R=o[0];let s;for(s=0;s<R.length;s+=1){const T=se(o,R,s);t[s]?t[s].p(T,g):(t[s]=ae(T),t[s].c(),t[s].m(b,w))}for(;s<t.length;s+=1)t[s].d(1);t.length=R.length}g&2&&S(_,"hide",!o[1]),g&2&&S(r,"minimal",!o[1])},i:le,o:le,d(o){o&&f(l),oe(t,o),a[12](null),a[13](null),a[15](null),U=!1,de(G)}}}function _e(a,l,r){let c=[{id:Date.now().toString(),title:"long... really long",text:"sup!"}],m=!1,D,i,b;function w(){r(1,m=i.scrollWidth>i.clientWidth)}function h(t){i.scrollBy({left:t,behavior:"smooth"})}function I(){c.push({id:Date.now().toString(),title:"tab "+(c.length+1),text:""}),r(0,c),_(c[c.length-1].id),setTimeout(()=>{r(3,i.scrollLeft=i.scrollWidth,i)},0)}function x(t,o){let g=c.findIndex(s=>s.id===t);if(c.splice(g,1),r(0,c),c.length==0){I();return}_(o)}function _(t){r(2,D=t)}let u,p,B=0,d=0,E=!1;function A(t){E=!0,u=t.target,B=t.detail.x-u.getBoundingClientRect().x,u.insertAdjacentElement("afterend",p),i.insertAdjacentElement("afterend",u),u.classList.add("dragging"),requestAnimationFrame(O)}function M(t){d=t.detail.x,u.style.setProperty("--x",`${d-B}px`);let o=u.getBoundingClientRect().x+u.offsetWidth/2;for(let g=0;g<i.children.length;g++){let s=i.children[g];if(s===p)continue;let T=s.getBoundingClientRect();if(!(o<T.left||o>T.right)){p.getBoundingClientRect().left>T.left?(s.insertAdjacentElement("beforebegin",p),console.log("swap left")):(s.insertAdjacentElement("afterend",p),console.log("swap right"));break}}}function q(){E=!1,u.classList.remove("dragging"),p.insertAdjacentElement("afterend",u),p.remove(),console.log(c)}function O(){E&&(d<i.offsetLeft&&i.scrollLeft>0&&i.scrollBy({left:-10,behavior:"instant"}),d>i.offsetLeft+i.clientWidth&&i.scrollLeft+i.clientWidth<i.scrollWidth&&i.scrollBy({left:10,behavior:"instant"}),requestAnimationFrame(O))}function j(t){switch(t.detail.name){case"left-click-drag-start":case"touch-drag-start":A(t);break;case"left-click-dragging":case"touch-dragging":M(t);break;case"left-click-drag-end":case"touch-drag-end":q();break;case"left-click":case"tap":_(t.target.id);break}}fe(()=>{p.remove()}),ve(()=>{w(),me();for(let t=0;t<i.children.length;t++){let o=i.children[t];pe(o),o.addEventListener("gesture",j)}});const V=()=>h(-80),F=(t,o)=>x(t.id,c[Math.max(o-1,0)].id);function P(t){K[t?"unshift":"push"](()=>{p=t,r(5,p)})}function U(t){K[t?"unshift":"push"](()=>{i=t,r(3,i)})}const G=()=>{h(80)};function R(t){K[t?"unshift":"push"](()=>{b=t,r(4,b)})}return[c,m,D,i,b,p,w,h,I,x,V,F,P,U,G,R]}class ke extends ie{constructor(l){super(),ne(this,l,_e,be,ce,{})}}export{ke as component};
