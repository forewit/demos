import{S as re,i as ie,s as ne,k as j,T as y,a as C,l as k,m as g,U as M,h as d,c as R,n as t,L as z,b as ae,E as c,N as $,O as X,I as ee,M as ce,P as oe,o as de,j as fe,q as he,r as ue,u as ve,w as te}from"../chunks/index.508fdf22.js";import{d as ge,e as me}from"../chunks/gestures.a2c2b0ad.js";function le(i,r,a){const u=i.slice();return u[28]=r[a],u[30]=a,u}function se(i){let r,a,u,n,f=i[28].title+"",I,v,l,m,q,_,E,L;function P(){return i[11](i[28])}return{c(){r=j("div"),a=j("div"),u=C(),n=j("p"),I=he(f),v=C(),l=j("div"),m=y("svg"),q=y("path"),this.h()},l(o){r=k(o,"DIV",{id:!0,class:!0});var s=g(r);a=k(s,"DIV",{class:!0}),g(a).forEach(d),u=R(s),n=k(s,"P",{class:!0});var B=g(n);I=ue(B,f),B.forEach(d),v=R(s),l=k(s,"DIV",{id:!0,class:!0});var T=g(l);m=M(T,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,class:!0});var x=g(m);q=M(x,"path",{"fill-rule":!0,d:!0}),g(q).forEach(d),x.forEach(d),T.forEach(d),s.forEach(d),this.h()},h(){t(a,"class","tab-divider svelte-aqjism"),t(n,"class","svelte-aqjism"),t(q,"fill-rule","evenodd"),t(q,"d","M21.002,26.588l10.357,10.604c1.039,1.072,1.715,1.083,2.773,0l2.078-2.128 c1.018-1.042,1.087-1.726,0-2.839L25.245,21L36.211,9.775c1.027-1.055,1.047-1.767,0-2.84l-2.078-2.127 c-1.078-1.104-1.744-1.053-2.773,0L21.002,15.412L10.645,4.809c-1.029-1.053-1.695-1.104-2.773,0L5.794,6.936 c-1.048,1.073-1.029,1.785,0,2.84L16.759,21L5.794,32.225c-1.087,1.113-1.029,1.797,0,2.839l2.077,2.128 c1.049,1.083,1.725,1.072,2.773,0L21.002,26.588z"),t(m,"fill","currentColor"),t(m,"version","1.1"),t(m,"xmlns","http://www.w3.org/2000/svg"),t(m,"viewBox","0 0 42 42"),t(m,"class","svelte-aqjism"),t(l,"id","close-tab"),t(l,"class","tab-bar-btn svelte-aqjism"),t(r,"id",_=i[28].id),t(r,"class","tab svelte-aqjism"),z(r,"active",i[28].id===i[1])},m(o,s){ae(o,r,s),c(r,a),c(r,u),c(r,n),c(n,I),c(r,v),c(r,l),c(l,m),c(m,q),E||(L=X(l,"click",P),E=!0)},p(o,s){i=o,s&1&&f!==(f=i[28].title+"")&&ve(I,f),s&1&&_!==(_=i[28].id)&&t(r,"id",_),s&3&&z(r,"active",i[28].id===i[1])},d(o){o&&d(r),E=!1,L()}}}function pe(i){let r,a,u,n,f,I,v,l,m,q,_,E,L,P,o,s,B,T,x,G,W,D,F,S,N,H,O=i[0],p=[];for(let h=0;h<O.length;h+=1)p[h]=se(le(i,O,h));return{c(){r=j("div"),a=j("div"),u=j("div"),n=y("svg"),f=y("path"),I=C(),v=j("div");for(let h=0;h<p.length;h+=1)p[h].c();l=C(),m=j("div"),q=C(),_=j("div"),E=y("svg"),L=y("path"),P=C(),o=j("div"),s=y("svg"),B=y("path"),T=C(),x=j("div"),G=C(),W=j("div"),D=j("textarea"),F=C(),S=j("div"),this.h()},l(h){r=k(h,"DIV",{class:!0});var b=g(r);a=k(b,"DIV",{class:!0});var e=g(a);u=k(e,"DIV",{id:!0,class:!0});var w=g(u);n=M(w,"svg",{viewBox:!0,xmlns:!0,fill:!0,transform:!0,class:!0});var V=g(n);f=M(V,"path",{fill:!0,d:!0}),g(f).forEach(d),V.forEach(d),w.forEach(d),I=R(e),v=k(e,"DIV",{id:!0,class:!0});var A=g(v);for(let J=0;J<p.length;J+=1)p[J].l(A);l=R(A),m=k(A,"DIV",{id:!0,class:!0}),g(m).forEach(d),A.forEach(d),q=R(e),_=k(e,"DIV",{id:!0,class:!0});var U=g(_);E=M(U,"svg",{viewBox:!0,xmlns:!0,transform:!0,class:!0});var K=g(E);L=M(K,"path",{fill:!0,d:!0}),g(L).forEach(d),K.forEach(d),U.forEach(d),P=R(e),o=k(e,"DIV",{id:!0,class:!0});var Q=g(o);s=M(Q,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,"xml:space":!0,class:!0});var Y=g(s);B=M(Y,"path",{d:!0}),g(B).forEach(d),Y.forEach(d),Q.forEach(d),e.forEach(d),T=R(b),x=k(b,"DIV",{class:!0}),g(x).forEach(d),G=R(b),W=k(b,"DIV",{class:!0});var Z=g(W);D=k(Z,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),g(D).forEach(d),Z.forEach(d),F=R(b),S=k(b,"DIV",{class:!0}),g(S).forEach(d),b.forEach(d),this.h()},h(){t(f,"fill","currentColor"),t(f,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(n,"viewBox","-3 -3 22 22"),t(n,"xmlns","http://www.w3.org/2000/svg"),t(n,"fill","none"),t(n,"transform","rotate(270)"),t(n,"class","svelte-aqjism"),t(u,"id","back"),t(u,"class","tab-bar-btn svelte-aqjism"),z(u,"hide",!i[2]),t(m,"id","placeholder"),t(m,"class","tab svelte-aqjism"),t(v,"id","tabs"),t(v,"class","svelte-aqjism"),t(L,"fill","currentColor"),t(L,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(E,"viewBox","-3 -3 22 22"),t(E,"xmlns","http://www.w3.org/2000/svg"),t(E,"transform","rotate(90)"),t(E,"class","svelte-aqjism"),t(_,"id","forward"),t(_,"class","tab-bar-btn svelte-aqjism"),z(_,"hide",!i[2]),t(B,"d",`M39.5,22.5v-3c0-1.48-0.43-2-2-2h-13v-13c0-1.48-0.49-2-2-2h-3c-1.55,0-2,0.52-2,2v13h-14c-1.48,0-2,0.49-2,2v3\r
                c0,1.55,0.52,2,2,2h14v14c0,1.51,0.48,2,2,2h3c1.48,0,2-0.43,2-2v-14h13C39.01,24.5,39.5,24.02,39.5,22.5z`),t(s,"fill","currentColor"),t(s,"version","1.1"),t(s,"xmlns","http://www.w3.org/2000/svg"),t(s,"viewBox","0 0 42 42"),t(s,"xml:space","preserve"),t(s,"class","svelte-aqjism"),t(o,"id","new-tab"),t(o,"class","tab-bar-btn svelte-aqjism"),t(a,"class","tab-bar svelte-aqjism"),z(a,"minimal",!i[2]),t(x,"class","toolbar svelte-aqjism"),t(D,"spellcheck","false"),t(D,"name","editor"),t(D,"id","text"),t(D,"class","svelte-aqjism"),t(W,"class","editor svelte-aqjism"),t(S,"class","status-bar svelte-aqjism"),t(r,"class","main-grid svelte-aqjism")},m(h,b){ae(h,r,b),c(r,a),c(a,u),c(u,n),c(n,f),c(a,I),c(a,v);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(v,null);c(v,l),c(v,m),i[12](m),i[13](v),c(a,q),c(a,_),c(_,E),c(E,L),c(a,P),c(a,o),c(o,s),c(s,B),c(r,T),c(r,x),c(r,G),c(r,W),c(W,D),$(D,i[5].text),c(r,F),c(r,S),N||(H=[X(window,"resize",i[6]),X(u,"click",i[10]),X(_,"click",i[14]),X(o,"click",i[8]),X(D,"input",i[15])],N=!0)},p(h,[b]){if(b&4&&z(u,"hide",!h[2]),b&515){O=h[0];let e;for(e=0;e<O.length;e+=1){const w=le(h,O,e);p[e]?p[e].p(w,b):(p[e]=se(w),p[e].c(),p[e].m(v,l))}for(;e<p.length;e+=1)p[e].d(1);p.length=O.length}b&4&&z(_,"hide",!h[2]),b&4&&z(a,"minimal",!h[2]),b&32&&$(D,h[5].text)},i:ee,o:ee,d(h){h&&d(r),ce(p,h),i[12](null),i[13](null),N=!1,oe(H)}}}function be(i,r,a){let u,n=[{id:Date.now().toString(),title:"long... really long",text:"sup!"}],f=[n[0].id],I=!1,v=n[0].id,l;function m(){a(2,I=l.scrollWidth>l.clientWidth)}function q(e){l.scrollBy({left:e,behavior:"smooth"})}function _(){let e=Date.now().toString();n.push({id:e,title:"tab "+(n.length+1),text:"sup "+(n.length+1)}),f.push(e),a(0,n),L(e),setTimeout(()=>{a(3,l.scrollLeft=l.scrollWidth,l)},0)}function E(e){let w=f.indexOf(e);a(0,n=n.filter(V=>V.id!=e)),f=f.filter(V=>V!=e),v==e&&L(f[Math.min(w,f.length-1)]||null)}function L(e){v!=e&&((e==null||!f.includes(e))&&a(1,v=null),a(1,v=e))}function P(){f=[];for(let e=0;e<l.children.length;e++){let w=l.children[e];w.classList.contains("tab")&&f.push(w.id)}f.length!=n.length&&console.error("tabsOrder.length != tabs.length",f,n)}let o,s,B=0,T=0,x=!1;function G(e){x=!0,o=e.target,B=e.detail.x-o.getBoundingClientRect().x,o.insertAdjacentElement("afterend",s),l.insertAdjacentElement("afterend",o),o.classList.add("dragging"),o.style.setProperty("--max-width",`${s.clientWidth}px`),requestAnimationFrame(F)}function W(e){T=e.detail.x,o.style.setProperty("--x",`${T-B}px`);let w=o.getBoundingClientRect().x+o.offsetWidth/2;for(let V=0;V<l.children.length;V++){let A=l.children[V];if(A===s)continue;let U=A.getBoundingClientRect();if(!(w<U.left||w>U.right)){s.getBoundingClientRect().left>U.left?A.insertAdjacentElement("beforebegin",s):A.insertAdjacentElement("afterend",s);break}}}function D(){x=!1,o.classList.remove("dragging"),s.insertAdjacentElement("afterend",o),s.remove(),P()}function F(){x&&(T<l.offsetLeft&&l.scrollLeft>0&&l.scrollBy({left:-2,behavior:"instant"}),T>l.offsetLeft+l.clientWidth&&l.scrollLeft+l.clientWidth<l.scrollWidth&&l.scrollBy({left:2,behavior:"instant"}),requestAnimationFrame(F))}function S(e){switch(e.detail.name){case"left-click-drag-start":case"longpress-drag-start":G(e);break;case"left-click-dragging":case"longpress-dragging":W(e);break;case"left-click-drag-end":case"longpress-drag-end":D();break;case"left-click":case"tap":L(e.target.id);break}}de(()=>{s.remove()}),fe(()=>{m(),ge();for(let e=0;e<l.children.length;e++){let w=l.children[e];me(w),w.addEventListener("gesture",S)}});const N=()=>q(-80),H=e=>E(e.id);function O(e){te[e?"unshift":"push"](()=>{s=e,a(4,s)})}function p(e){te[e?"unshift":"push"](()=>{l=e,a(3,l)})}const h=()=>{q(80)};function b(){u.text=this.value,a(5,u),a(0,n),a(1,v)}return i.$$.update=()=>{i.$$.dirty&3&&a(5,u=n.find(e=>e.id==v)||{text:"ERROR"})},[n,v,I,l,s,u,m,q,_,E,N,H,O,p,h,b]}class we extends re{constructor(r){super(),ie(this,r,be,pe,ne,{})}}export{we as component};
