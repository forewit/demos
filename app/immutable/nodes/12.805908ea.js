import{S as ce,i as oe,s as de,a as M,k as D,T as S,D as ue,h as f,c as j,l as I,m as g,U as q,n as t,L as P,b as le,E as n,N as ee,O as H,I as se,M as fe,P as ne,o as he,j as ve,w as ae}from"../chunks/index.508fdf22.js";import{d as pe,e as ge}from"../chunks/gestures.a2c2b0ad.js";function re(a,c,s){const o=a.slice();return o[34]=c[s],o[35]=c,o[36]=s,o}function ie(a){let c,s,o,r,h,v,l,i,p,C,y;function L(){a[12].call(r,a[35],a[36])}function T(){return a[13](a[34])}return{c(){c=D("div"),s=D("div"),o=M(),r=D("input"),h=M(),v=D("div"),l=S("svg"),i=S("path"),this.h()},l(k){c=I(k,"DIV",{id:!0,class:!0});var m=g(c);s=I(m,"DIV",{class:!0}),g(s).forEach(f),o=j(m),r=I(m,"INPUT",{name:!0,type:!0,class:!0}),h=j(m),v=I(m,"DIV",{id:!0,class:!0});var A=g(v);l=q(A,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,class:!0});var w=g(l);i=q(w,"path",{"fill-rule":!0,d:!0}),g(i).forEach(f),w.forEach(f),A.forEach(f),m.forEach(f),this.h()},h(){t(s,"class","tab-divider svelte-tkdlp"),t(r,"name","title-input"),t(r,"type","text"),t(r,"class","svelte-tkdlp"),t(i,"fill-rule","evenodd"),t(i,"d","M21.002,26.588l10.357,10.604c1.039,1.072,1.715,1.083,2.773,0l2.078-2.128 c1.018-1.042,1.087-1.726,0-2.839L25.245,21L36.211,9.775c1.027-1.055,1.047-1.767,0-2.84l-2.078-2.127 c-1.078-1.104-1.744-1.053-2.773,0L21.002,15.412L10.645,4.809c-1.029-1.053-1.695-1.104-2.773,0L5.794,6.936 c-1.048,1.073-1.029,1.785,0,2.84L16.759,21L5.794,32.225c-1.087,1.113-1.029,1.797,0,2.839l2.077,2.128 c1.049,1.083,1.725,1.072,2.773,0L21.002,26.588z"),t(l,"fill","currentColor"),t(l,"version","1.1"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"viewBox","0 0 42 42"),t(l,"class","svelte-tkdlp"),t(v,"id","close-tab"),t(v,"class","tab-bar-btn svelte-tkdlp"),t(c,"id",p=a[34].id),t(c,"class","tab svelte-tkdlp"),P(c,"closing",a[4]),P(c,"active",a[34].id===a[1])},m(k,m){le(k,c,m),n(c,s),n(c,o),n(c,r),ee(r,a[34].title),n(c,h),n(c,v),n(v,l),n(l,i),C||(y=[H(r,"input",L),H(v,"click",T)],C=!0)},p(k,m){a=k,m[0]&1&&r.value!==a[34].title&&ee(r,a[34].title),m[0]&1&&p!==(p=a[34].id)&&t(c,"id",p),m[0]&16&&P(c,"closing",a[4]),m[0]&3&&P(c,"active",a[34].id===a[1])},d(k){k&&f(c),C=!1,ne(y)}}}function me(a){let c,s,o,r,h,v,l,i,p,C,y,L,T,k,m,A,w,R,J,O,K,W,B,Q,U,X,Y,z=a[0],_=[];for(let u=0;u<z.length;u+=1)_[u]=ie(re(a,z,u));return{c(){c=M(),s=D("div"),o=D("div"),r=D("div"),h=S("svg"),v=S("path"),l=M(),i=D("div");for(let u=0;u<_.length;u+=1)_[u].c();p=M(),C=D("div"),y=M(),L=D("div"),T=S("svg"),k=S("path"),m=M(),A=D("div"),w=S("svg"),R=S("path"),J=M(),O=D("div"),K=M(),W=D("div"),B=D("textarea"),Q=M(),U=D("div"),this.h()},l(u){ue("svelte-x0909",document.head).forEach(f),c=j(u),s=I(u,"DIV",{class:!0});var d=g(s);o=I(d,"DIV",{class:!0});var V=g(o);r=I(V,"DIV",{id:!0,class:!0});var Z=g(r);h=q(Z,"svg",{viewBox:!0,xmlns:!0,fill:!0,transform:!0,class:!0});var $=g(h);v=q($,"path",{fill:!0,d:!0}),g(v).forEach(f),$.forEach(f),Z.forEach(f),l=j(V),i=I(V,"DIV",{id:!0,class:!0});var F=g(i);for(let te=0;te<_.length;te+=1)_[te].l(F);p=j(F),C=I(F,"DIV",{id:!0,class:!0}),g(C).forEach(f),F.forEach(f),y=j(V),L=I(V,"DIV",{id:!0,class:!0});var e=g(L);T=q(e,"svg",{viewBox:!0,xmlns:!0,transform:!0,class:!0});var b=g(T);k=q(b,"path",{fill:!0,d:!0}),g(k).forEach(f),b.forEach(f),e.forEach(f),m=j(V),A=I(V,"DIV",{id:!0,class:!0});var E=g(A);w=q(E,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,"xml:space":!0,class:!0});var N=g(w);R=q(N,"path",{d:!0}),g(R).forEach(f),N.forEach(f),E.forEach(f),V.forEach(f),J=j(d),O=I(d,"DIV",{class:!0}),g(O).forEach(f),K=j(d),W=I(d,"DIV",{class:!0});var G=g(W);B=I(G,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),g(B).forEach(f),G.forEach(f),Q=j(d),U=I(d,"DIV",{class:!0}),g(U).forEach(f),d.forEach(f),this.h()},h(){document.title="Not Notepad",t(v,"fill","currentColor"),t(v,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(h,"viewBox","-3 -3 22 22"),t(h,"xmlns","http://www.w3.org/2000/svg"),t(h,"fill","none"),t(h,"transform","rotate(270)"),t(h,"class","svelte-tkdlp"),t(r,"id","back"),t(r,"class","tab-bar-btn svelte-tkdlp"),P(r,"hide",!a[5]),t(C,"id","placeholder"),t(C,"class","tab svelte-tkdlp"),t(i,"id","tabs"),t(i,"class","svelte-tkdlp"),t(k,"fill","currentColor"),t(k,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(T,"viewBox","-3 -3 22 22"),t(T,"xmlns","http://www.w3.org/2000/svg"),t(T,"transform","rotate(90)"),t(T,"class","svelte-tkdlp"),t(L,"id","forward"),t(L,"class","tab-bar-btn svelte-tkdlp"),P(L,"hide",!a[5]),t(R,"d",`M39.5,22.5v-3c0-1.48-0.43-2-2-2h-13v-13c0-1.48-0.49-2-2-2h-3c-1.55,0-2,0.52-2,2v13h-14c-1.48,0-2,0.49-2,2v3\r
                  c0,1.55,0.52,2,2,2h14v14c0,1.51,0.48,2,2,2h3c1.48,0,2-0.43,2-2v-14h13C39.01,24.5,39.5,24.02,39.5,22.5z`),t(w,"fill","currentColor"),t(w,"version","1.1"),t(w,"xmlns","http://www.w3.org/2000/svg"),t(w,"viewBox","0 0 42 42"),t(w,"xml:space","preserve"),t(w,"class","svelte-tkdlp"),t(A,"id","new-tab"),t(A,"class","tab-bar-btn svelte-tkdlp"),t(o,"class","tab-bar svelte-tkdlp"),P(o,"minimal",!a[5]),t(O,"class","toolbar svelte-tkdlp"),t(B,"spellcheck","false"),t(B,"name","editor"),t(B,"id","text"),t(B,"class","svelte-tkdlp"),t(W,"class","editor svelte-tkdlp"),t(U,"class","status-bar svelte-tkdlp"),t(s,"class","main-grid svelte-tkdlp")},m(u,x){le(u,c,x),le(u,s,x),n(s,o),n(o,r),n(r,h),n(h,v),n(o,l),n(o,i);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(i,null);n(i,p),n(i,C),a[14](C),a[15](i),n(o,y),n(o,L),n(L,T),n(T,k),n(o,m),n(o,A),n(A,w),n(w,R),n(s,J),n(s,O),n(s,K),n(s,W),n(W,B),ee(B,a[6].text),n(s,Q),n(s,U),X||(Y=[H(window,"resize",a[7]),H(r,"click",a[11]),H(L,"click",a[16]),H(A,"click",a[9]),H(B,"input",a[17])],X=!0)},p(u,x){if(x[0]&32&&P(r,"hide",!u[5]),x[0]&1043){z=u[0];let d;for(d=0;d<z.length;d+=1){const V=re(u,z,d);_[d]?_[d].p(V,x):(_[d]=ie(V),_[d].c(),_[d].m(i,p))}for(;d<_.length;d+=1)_[d].d(1);_.length=z.length}x[0]&32&&P(L,"hide",!u[5]),x[0]&32&&P(o,"minimal",!u[5]),x[0]&64&&ee(B,u[6].text)},i:se,o:se,d(u){u&&f(c),u&&f(s),fe(_,u),a[14](null),a[15](null),X=!1,ne(Y)}}}function be(a,c,s){let o,r=[],h=[],v=null,l,i,p,C=0,y=0,L=0,T=!1,k=!1,m=!1;const A=(e,b=300)=>{let E;return(...N)=>{clearTimeout(E),E=setTimeout(()=>{e.apply(this,N)},b)}},w=()=>{s(5,m=l.scrollWidth>l.clientWidth)},R=e=>{l.scrollBy({left:e,behavior:"smooth"})},J=()=>{let e=Date.now().toString();r.push({id:e,title:"Untitled",text:""}),h.push(e),s(0,r),W(e),setTimeout(()=>{s(2,l.scrollLeft=l.scrollWidth,l)},0)},O=e=>{let b=h.indexOf(e);if(s(0,r=r.filter(E=>E.id!=e)),h=h.filter(E=>E!=e),s(4,T=!0),L=l.children[b].clientWidth,l.style.setProperty("--max-width",`${L}px`),m){let E=p.cloneNode();E.classList.add("filler"),E.style.backgroundColor="transparent",E.style.pointerEvents="none",l.appendChild(E)}K(),v==e&&W(h[Math.min(b,h.length-1)]||null)},K=A(()=>{l.querySelectorAll(".filler").forEach(e=>{e.remove()}),s(4,T=!1)},700),W=e=>{v!=e&&((e==null||!h.includes(e))&&s(1,v=null),s(1,v=e))},B=e=>{k=!0,i=e.target,C=e.detail.x-i.getBoundingClientRect().x,i.insertAdjacentElement("afterend",p),l.insertAdjacentElement("afterend",i),i.classList.add("dragging"),i.style.setProperty("--max-width",`${p.clientWidth}px`),requestAnimationFrame(X)},Q=e=>{y=e.detail.x,i.style.setProperty("--x",`${y-C}px`);let b=i.getBoundingClientRect().x+i.offsetWidth/2;for(let E=0;E<l.children.length;E++){let N=l.children[E];if(N===p)continue;let G=N.getBoundingClientRect();if(!(b<G.left||b>G.right)){p.getBoundingClientRect().left>G.left?N.insertAdjacentElement("beforebegin",p):N.insertAdjacentElement("afterend",p);break}}},U=()=>{k=!1,i.classList.remove("dragging"),p.insertAdjacentElement("afterend",i),p.remove(),h=[];for(let e=0;e<l.children.length;e++){let b=l.children[e];b.classList.contains("tab")&&h.push(b.id)}z()},X=()=>{k&&(y<l.offsetLeft&&s(2,l.scrollLeft-=2,l),y>l.offsetLeft+l.clientWidth&&s(2,l.scrollLeft+=2,l),requestAnimationFrame(X))},Y=e=>{if(!e.classList.contains("tab"))return;e.children.namedItem("title-input").select()},z=()=>{pe();for(let e=0;e<l.children.length;e++){let b=l.children[e];b.classList.contains("tab")&&(ge(b),b.addEventListener("gesture",_))}},_=e=>{switch(e.detail.name){case"left-click-drag-start":case"longpress-drag-start":B(e);break;case"left-click-dragging":case"longpress-dragging":Q(e);break;case"left-click-drag-end":case"longpress-drag-end":U();break;case"left-click":case"tap":W(e.target.id);break;case"double-click":case"double-tap":Y(e.target);break}};he(()=>{p.remove()}),ve(()=>{w(),z()});const u=()=>R(-80);function x(e,b){e[b].title=this.value,s(0,r)}const d=e=>O(e.id);function V(e){ae[e?"unshift":"push"](()=>{p=e,s(3,p)})}function Z(e){ae[e?"unshift":"push"](()=>{l=e,s(2,l)})}const $=()=>{R(80)};function F(){o.text=this.value,s(6,o),s(0,r),s(1,v)}return a.$$.update=()=>{a.$$.dirty[0]&3&&s(6,o=r.find(e=>e.id==v)||{text:"Click the âž• above to create a new tab."})},[r,v,l,p,T,m,o,w,R,J,O,u,x,d,V,Z,$,F]}class Ee extends ce{constructor(c){super(),oe(this,c,be,me,de,{},null,[-1,-1])}}export{Ee as component};
