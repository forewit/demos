import{S as ae,i as ne,s as le,k as m,y as se,a as U,q as R,l as g,m as j,z as ie,c as S,h as E,r as G,n,p as re,b as ee,A as oe,E as i,M as P,N as B,O as F,u as ue,g as ce,d as de,B as he,P as pe,Q as te,w as fe}from"../chunks/index.35df80cc.js";import{F as _e}from"../chunks/Fireworks.0ee6385d.js";function Z(e,l,s){const o=e.slice();return o[15]=l[s],o[16]=l,o[17]=s,o}function x(e){let l,s,o,r,a,t,u,h,k,N,v,b,f,y,z,D,O,p;function d(){e[8].call(o,e[16],e[17])}function $(){e[9].call(t,e[16],e[17])}function q(){e[10].call(k,e[16],e[17])}function A(){e[11].call(b,e[16],e[17])}function L(){e[12].call(z,e[16],e[17])}return{c(){l=m("div"),s=m("div"),o=m("input"),r=U(),a=m("div"),t=m("input"),u=U(),h=m("div"),k=m("input"),N=U(),v=m("div"),b=m("input"),f=U(),y=m("div"),z=m("input"),D=U(),this.h()},l(C){l=g(C,"DIV",{class:!0});var _=j(l);s=g(_,"DIV",{class:!0,"data-emoji":!0});var J=j(s);o=g(J,"INPUT",{type:!0,class:!0,name:!0}),J.forEach(E),r=S(_),a=g(_,"DIV",{class:!0,"data-emoji":!0});var M=j(a);t=g(M,"INPUT",{type:!0,class:!0,name:!0}),M.forEach(E),u=S(_),h=g(_,"DIV",{class:!0,"data-emoji":!0});var w=j(h);k=g(w,"INPUT",{type:!0,class:!0,name:!0}),w.forEach(E),N=S(_),v=g(_,"DIV",{class:!0,"data-emoji":!0});var c=j(v);b=g(c,"INPUT",{type:!0,class:!0,name:!0}),c.forEach(E),f=S(_),y=g(_,"DIV",{class:!0,"data-emoji":!0});var T=j(y);z=g(T,"INPUT",{type:!0,class:!0,name:!0}),T.forEach(E),D=S(_),_.forEach(E),this.h()},h(){n(o,"type","text"),n(o,"class","name svelte-zc0v0o"),n(o,"name","name"),n(s,"class","inputWrapper svelte-zc0v0o"),n(s,"data-emoji","üë§"),n(t,"type","number"),n(t,"class","hp svelte-zc0v0o"),n(t,"name","hp"),n(a,"class","inputWrapper svelte-zc0v0o"),n(a,"data-emoji","‚ù§Ô∏è‚Äçü©π"),n(k,"type","number"),n(k,"class","attack svelte-zc0v0o"),n(k,"name","attack"),n(h,"class","inputWrapper svelte-zc0v0o"),n(h,"data-emoji","‚öîÔ∏è"),n(b,"type","number"),n(b,"class","heal svelte-zc0v0o"),n(b,"name","heal"),n(v,"class","inputWrapper svelte-zc0v0o"),n(v,"data-emoji","üíñ"),n(z,"type","number"),n(z,"class","defense svelte-zc0v0o"),n(z,"name","defense"),n(y,"class","inputWrapper svelte-zc0v0o"),n(y,"data-emoji","üõ°Ô∏è"),n(l,"class","characterForm svelte-zc0v0o")},m(C,_){ee(C,l,_),i(l,s),i(s,o),P(o,e[15].id),i(l,r),i(l,a),i(a,t),P(t,e[15].hp),i(l,u),i(l,h),i(h,k),P(k,e[15].attack),i(l,N),i(l,v),i(v,b),P(b,e[15].heal),i(l,f),i(l,y),i(y,z),P(z,e[15].defense_attack),i(l,D),O||(p=[B(o,"input",d),B(t,"input",$),B(k,"input",q),B(b,"input",A),B(z,"input",L)],O=!0)},p(C,_){e=C,_&4&&o.value!==e[15].id&&P(o,e[15].id),_&4&&F(t.value)!==e[15].hp&&P(t,e[15].hp),_&4&&F(k.value)!==e[15].attack&&P(k,e[15].attack),_&4&&F(b.value)!==e[15].heal&&P(b,e[15].heal),_&4&&F(z.value)!==e[15].defense_attack&&P(z,e[15].defense_attack)},d(C){C&&E(l),O=!1,te(p)}}}function ve(e){let l,s,o,r,a,t,u,h,k,N,v,b,f,y,z,D,O,p,d,$,q,A,L,C,_,J={};s=new _e({props:J}),e[7](s);let M=e[2],w=[];for(let c=0;c<M.length;c+=1)w[c]=x(Z(e,M,c));return{c(){l=m("div"),se(s.$$.fragment),o=U(),r=m("div");for(let c=0;c<w.length;c+=1)w[c].c();a=U(),t=m("div"),u=m("div"),h=m("button"),k=R("-"),N=U(),v=m("button"),b=R("+"),f=U(),y=m("div"),z=U(),D=m("button"),O=R("‚ñ∂"),p=U(),d=m("input"),$=U(),q=m("pre"),A=R(e[1]),this.h()},l(c){l=g(c,"DIV",{id:!0,class:!0});var T=j(l);ie(s.$$.fragment,T),o=S(T),r=g(T,"DIV",{id:!0,class:!0});var W=j(r);for(let Q=0;Q<w.length;Q+=1)w[Q].l(W);W.forEach(E),a=S(T),t=g(T,"DIV",{id:!0,class:!0});var I=j(t);u=g(I,"DIV",{id:!0,class:!0});var V=j(u);h=g(V,"BUTTON",{class:!0});var H=j(h);k=G(H,"-"),H.forEach(E),N=S(V),v=g(V,"BUTTON",{class:!0});var K=j(v);b=G(K,"+"),K.forEach(E),f=S(V),y=g(V,"DIV",{style:!0}),j(y).forEach(E),z=S(V),D=g(V,"BUTTON",{class:!0});var X=j(D);O=G(X,"‚ñ∂"),X.forEach(E),p=S(V),d=g(V,"INPUT",{id:!0,type:!0,name:!0,class:!0}),V.forEach(E),$=S(I),q=g(I,"PRE",{id:!0,class:!0});var Y=j(q);A=G(Y,e[1]),Y.forEach(E),I.forEach(E),T.forEach(E),this.h()},h(){n(r,"id","formContainer"),n(r,"class","svelte-zc0v0o"),n(h,"class","svelte-zc0v0o"),n(v,"class","svelte-zc0v0o"),re(y,"width","20px"),n(D,"class","svelte-zc0v0o"),n(d,"id","iterations"),n(d,"type","number"),n(d,"name","iterations"),n(d,"class","svelte-zc0v0o"),n(u,"id","buttonContainer"),n(u,"class","svelte-zc0v0o"),n(q,"id","results"),n(q,"class","svelte-zc0v0o"),n(t,"id","overlayContainer"),n(t,"class","svelte-zc0v0o"),n(l,"id","mainContainer"),n(l,"class","svelte-zc0v0o")},m(c,T){ee(c,l,T),oe(s,l,null),i(l,o),i(l,r);for(let W=0;W<w.length;W+=1)w[W]&&w[W].m(r,null);i(l,a),i(l,t),i(t,u),i(u,h),i(h,k),i(u,N),i(u,v),i(v,b),i(u,f),i(u,y),i(u,z),i(u,D),i(D,O),i(u,p),i(u,d),P(d,e[3]),i(t,$),i(t,q),i(q,A),L=!0,C||(_=[B(h,"click",e[5]),B(v,"click",e[4]),B(D,"click",e[6]),B(d,"input",e[13])],C=!0)},p(c,[T]){const W={};if(s.$set(W),T&4){M=c[2];let I;for(I=0;I<M.length;I+=1){const V=Z(c,M,I);w[I]?w[I].p(V,T):(w[I]=x(V),w[I].c(),w[I].m(r,null))}for(;I<w.length;I+=1)w[I].d(1);w.length=M.length}T&8&&F(d.value)!==c[3]&&P(d,c[3]),(!L||T&2)&&ue(A,c[1])},i(c){L||(ce(s.$$.fragment,c),L=!0)},o(c){de(s.$$.fragment,c),L=!1},d(c){c&&E(l),e[7](null),he(s),pe(w,c),C=!1,te(_)}}}async function me(e,l,s){s=s||{},e.forEach(r=>r.wins=0),console.log("%cStarting simulation...","color:green; font-size:16px; font-weight: bold;");for(let r=0;r<l;r++){let a=JSON.parse(JSON.stringify(e)),t=Math.floor(Math.random()*e.length),u=`%cGame ${r+1}... ${e[t].id} starts, `;for(;;){if(a.every(f=>f.hp<=0)){u+="Tie!";break}if(a.filter(f=>f.hp>0).length===1){e[a.findIndex(f=>f.hp>0)].wins++,u+=`${a[a.findIndex(f=>f.hp>0)].id} wins!`;break}for(;a[t].hp<=0;)t=(t+1)%a.length;let h=a.filter(f=>f.hp>0&&f.id!==a[t].id),k=h[Math.floor(Math.random()*h.length)].id,N=a.findIndex(f=>f.id===k),v=0,b=0;a[t].heal>0&&h.length>1?(a[t].hp+=a[t].heal,v+=a[t].heal):(a[N].hp-=a[t].attack,a[t].hp-=a[N].defense_attack,v-=a[N].defense_attack,b-=a[t].attack),s.log_turns&&console.log(`${a[t].id} ${a[t].hp}(${v}) ‚öîÔ∏è ${k} ${a[N].hp}(${b})`),t=(t+1)%a.length}s.log_games&&console.log(u,"font-weight: bold;")}let o=e.reduce((r,a)=>r.wins>a.wins?r:a).id;return console.log("%cResults...","color:green; font-size:16px; font-weight: bold;"),console.log(e.map(r=>`${r.id===o?"üèÜ":""}${r.id}:${r.wins}`).join(" | ")),e.map(r=>`${r.id===o?"üèÜ":""}${r.id}: ${r.wins}`).join(` 
 `)}function ge(e,l,s){let o;function r(){o.launch(3,{color:"lightgreen",left:50,top:50,initialLeft:45,initialTop:100,size:30},{color:"red",left:50,top:50,initialLeft:50,initialTop:100,delay:.25},{color:"yellow",left:50,top:40,initialLeft:55,initialTop:100,delay:.5,size:60})}let a="Simulation results here...",t=[];h(),h(),h();let u=1e5;async function h(){let $=(await(await fetch("https://randomuser.me/api/")).json()).results[0].name.first;s(2,t=[...t,{id:$,hp:50,attack:9,heal:0,defense_attack:1,wins:0}])}function k(){t.length>1&&s(2,t=t.slice(0,-1))}async function N(){let p=t.map($=>$.id);if([...new Set(p)].length!==t.length||p.includes("")){alert("All character names must be unique and not blank.");return}s(1,a="Simulating..."),setTimeout(async()=>{s(1,a=await me(t,u,{log_turns:!1,log_games:!1})),r()},0)}function v(p){fe[p?"unshift":"push"](()=>{o=p,s(0,o)})}function b(p,d){p[d].id=this.value,s(2,t)}function f(p,d){p[d].hp=F(this.value),s(2,t)}function y(p,d){p[d].attack=F(this.value),s(2,t)}function z(p,d){p[d].heal=F(this.value),s(2,t)}function D(p,d){p[d].defense_attack=F(this.value),s(2,t)}function O(){u=F(this.value),s(3,u)}return[o,a,t,u,h,k,N,v,b,f,y,z,D,O]}class we extends ae{constructor(l){super(),ne(this,l,ge,ve,le,{})}}export{we as component};
