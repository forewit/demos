import{S as ae,i as ne,s as le,k as v,y as se,a as U,q as R,l as g,m as j,z as ie,c as S,h as I,r as G,n,p as re,b as ee,A as oe,E as i,M as P,N as B,O as F,u as ue,g as de,d as ce,B as he,P as pe,Q as te,w as fe}from"../chunks/index.35df80cc.js";import{F as _e}from"../chunks/Fireworks.0ee6385d.js";function Z(e,l,s){const o=e.slice();return o[15]=l[s],o[16]=l,o[17]=s,o}function x(e){let l,s,o,r,a,t,u,h,y,N,m,k,f,T,w,D,O,p;function c(){e[8].call(o,e[16],e[17])}function $(){e[9].call(t,e[16],e[17])}function q(){e[10].call(y,e[16],e[17])}function A(){e[11].call(k,e[16],e[17])}function L(){e[12].call(w,e[16],e[17])}return{c(){l=v("div"),s=v("div"),o=v("input"),r=U(),a=v("div"),t=v("input"),u=U(),h=v("div"),y=v("input"),N=U(),m=v("div"),k=v("input"),f=U(),T=v("div"),w=v("input"),D=U(),this.h()},l(C){l=g(C,"DIV",{class:!0});var _=j(l);s=g(_,"DIV",{class:!0,"data-emoji":!0});var J=j(s);o=g(J,"INPUT",{type:!0,class:!0,name:!0}),J.forEach(I),r=S(_),a=g(_,"DIV",{class:!0,"data-emoji":!0});var M=j(a);t=g(M,"INPUT",{type:!0,class:!0,name:!0}),M.forEach(I),u=S(_),h=g(_,"DIV",{class:!0,"data-emoji":!0});var b=j(h);y=g(b,"INPUT",{type:!0,class:!0,name:!0}),b.forEach(I),N=S(_),m=g(_,"DIV",{class:!0,"data-emoji":!0});var d=j(m);k=g(d,"INPUT",{type:!0,class:!0,name:!0}),d.forEach(I),f=S(_),T=g(_,"DIV",{class:!0,"data-emoji":!0});var E=j(T);w=g(E,"INPUT",{type:!0,class:!0,name:!0}),E.forEach(I),D=S(_),_.forEach(I),this.h()},h(){n(o,"type","text"),n(o,"class","name svelte-alzy0d"),n(o,"name","name"),n(s,"class","inputWrapper svelte-alzy0d"),n(s,"data-emoji","üë§"),n(t,"type","number"),n(t,"class","hp svelte-alzy0d"),n(t,"name","hp"),n(a,"class","inputWrapper svelte-alzy0d"),n(a,"data-emoji","‚ù§Ô∏è‚Äçü©π"),n(y,"type","number"),n(y,"class","attack svelte-alzy0d"),n(y,"name","attack"),n(h,"class","inputWrapper svelte-alzy0d"),n(h,"data-emoji","‚öîÔ∏è"),n(k,"type","number"),n(k,"class","heal svelte-alzy0d"),n(k,"name","heal"),n(m,"class","inputWrapper svelte-alzy0d"),n(m,"data-emoji","üíñ"),n(w,"type","number"),n(w,"class","defense svelte-alzy0d"),n(w,"name","defense"),n(T,"class","inputWrapper svelte-alzy0d"),n(T,"data-emoji","üõ°Ô∏è"),n(l,"class","characterForm svelte-alzy0d")},m(C,_){ee(C,l,_),i(l,s),i(s,o),P(o,e[15].id),i(l,r),i(l,a),i(a,t),P(t,e[15].hp),i(l,u),i(l,h),i(h,y),P(y,e[15].attack),i(l,N),i(l,m),i(m,k),P(k,e[15].heal),i(l,f),i(l,T),i(T,w),P(w,e[15].defense_attack),i(l,D),O||(p=[B(o,"input",c),B(t,"input",$),B(y,"input",q),B(k,"input",A),B(w,"input",L)],O=!0)},p(C,_){e=C,_&4&&o.value!==e[15].id&&P(o,e[15].id),_&4&&F(t.value)!==e[15].hp&&P(t,e[15].hp),_&4&&F(y.value)!==e[15].attack&&P(y,e[15].attack),_&4&&F(k.value)!==e[15].heal&&P(k,e[15].heal),_&4&&F(w.value)!==e[15].defense_attack&&P(w,e[15].defense_attack)},d(C){C&&I(l),O=!1,te(p)}}}function me(e){let l,s,o,r,a,t,u,h,y,N,m,k,f,T,w,D,O,p,c,$,q,A,L,C,_,J={};s=new _e({props:J}),e[7](s);let M=e[2],b=[];for(let d=0;d<M.length;d+=1)b[d]=x(Z(e,M,d));return{c(){l=v("div"),se(s.$$.fragment),o=U(),r=v("div");for(let d=0;d<b.length;d+=1)b[d].c();a=U(),t=v("div"),u=v("div"),h=v("button"),y=R("-"),N=U(),m=v("button"),k=R("+"),f=U(),T=v("div"),w=U(),D=v("button"),O=R("‚ñ∂"),p=U(),c=v("input"),$=U(),q=v("pre"),A=R(e[1]),this.h()},l(d){l=g(d,"DIV",{id:!0,class:!0});var E=j(l);ie(s.$$.fragment,E),o=S(E),r=g(E,"DIV",{id:!0,class:!0});var W=j(r);for(let Q=0;Q<b.length;Q+=1)b[Q].l(W);W.forEach(I),a=S(E),t=g(E,"DIV",{id:!0,class:!0});var z=j(t);u=g(z,"DIV",{id:!0,class:!0});var V=j(u);h=g(V,"BUTTON",{class:!0});var H=j(h);y=G(H,"-"),H.forEach(I),N=S(V),m=g(V,"BUTTON",{class:!0});var K=j(m);k=G(K,"+"),K.forEach(I),f=S(V),T=g(V,"DIV",{style:!0}),j(T).forEach(I),w=S(V),D=g(V,"BUTTON",{class:!0});var X=j(D);O=G(X,"‚ñ∂"),X.forEach(I),p=S(V),c=g(V,"INPUT",{id:!0,type:!0,name:!0,class:!0}),V.forEach(I),$=S(z),q=g(z,"PRE",{id:!0,class:!0});var Y=j(q);A=G(Y,e[1]),Y.forEach(I),z.forEach(I),E.forEach(I),this.h()},h(){n(r,"id","formContainer"),n(r,"class","svelte-alzy0d"),n(h,"class","svelte-alzy0d"),n(m,"class","svelte-alzy0d"),re(T,"width","20px"),n(D,"class","svelte-alzy0d"),n(c,"id","iterations"),n(c,"type","number"),n(c,"name","iterations"),n(c,"class","svelte-alzy0d"),n(u,"id","buttonContainer"),n(u,"class","svelte-alzy0d"),n(q,"id","results"),n(q,"class","svelte-alzy0d"),n(t,"id","overlayContainer"),n(t,"class","svelte-alzy0d"),n(l,"id","mainContainer"),n(l,"class","svelte-alzy0d")},m(d,E){ee(d,l,E),oe(s,l,null),i(l,o),i(l,r);for(let W=0;W<b.length;W+=1)b[W]&&b[W].m(r,null);i(l,a),i(l,t),i(t,u),i(u,h),i(h,y),i(u,N),i(u,m),i(m,k),i(u,f),i(u,T),i(u,w),i(u,D),i(D,O),i(u,p),i(u,c),P(c,e[3]),i(t,$),i(t,q),i(q,A),L=!0,C||(_=[B(h,"click",e[5]),B(m,"click",e[4]),B(D,"click",e[6]),B(c,"input",e[13])],C=!0)},p(d,[E]){const W={};if(s.$set(W),E&4){M=d[2];let z;for(z=0;z<M.length;z+=1){const V=Z(d,M,z);b[z]?b[z].p(V,E):(b[z]=x(V),b[z].c(),b[z].m(r,null))}for(;z<b.length;z+=1)b[z].d(1);b.length=M.length}E&8&&F(c.value)!==d[3]&&P(c,d[3]),(!L||E&2)&&ue(A,d[1])},i(d){L||(de(s.$$.fragment,d),L=!0)},o(d){ce(s.$$.fragment,d),L=!1},d(d){d&&I(l),e[7](null),he(s),pe(b,d),C=!1,te(_)}}}async function ve(e,l,s){s=s||{},e.forEach(r=>r.wins=0),console.log("%cStarting simulation...","color:green; font-size:16px; font-weight: bold;");for(let r=0;r<l;r++){let a=JSON.parse(JSON.stringify(e)),t=Math.floor(Math.random()*e.length),u=`%cGame ${r+1}... ${e[t].id} starts, `;for(;;){if(a.every(f=>f.hp<=0)){u+="Tie!";break}if(a.filter(f=>f.hp>0).length===1){e[a.findIndex(f=>f.hp>0)].wins++,u+=`${a[a.findIndex(f=>f.hp>0)].id} wins!`;break}for(;a[t].hp<=0;)t=(t+1)%a.length;let h=a.filter(f=>f.hp>0&&f.id!==a[t].id),y=h[Math.floor(Math.random()*h.length)].id,N=a.findIndex(f=>f.id===y),m=0,k=0;a[t].heal>0&&h.length>1?(a[t].hp+=a[t].heal,m+=a[t].heal):(a[N].hp-=a[t].attack,a[t].hp-=a[N].defense_attack,m-=a[N].defense_attack,k-=a[t].attack),s.log_turns&&console.log(`${a[t].id} ${a[t].hp}(${m}) ‚öîÔ∏è ${y} ${a[N].hp}(${k})`),t=(t+1)%a.length}s.log_games&&console.log(u,"font-weight: bold;")}let o=e.reduce((r,a)=>r.wins>a.wins?r:a).id;return console.log("%cResults...","color:green; font-size:16px; font-weight: bold;"),console.log(e.map(r=>`${r.id===o?"üèÜ":""}${r.id}:${r.wins}`).join(" | ")),e.map(r=>`${r.id===o?"üèÜ":""}${r.id}: ${r.wins}`).join(` 
 `)}function ge(e,l,s){let o;function r(){o.launch(3,{color:"lightgreen",left:50,top:50,initialLeft:45,initialTop:100,size:30},{color:"red",left:50,top:50,initialLeft:50,initialTop:100,delay:.25},{color:"yellow",left:50,top:40,initialLeft:55,initialTop:100,delay:.5,size:60})}let a="Simulation results here...",t=[];h(),h(),h();let u=1e5;async function h(){let $=(await(await fetch("https://randomuser.me/api/")).json()).results[0].name.first;s(2,t=[...t,{id:$,hp:50,attack:9,heal:0,defense_attack:1,wins:0}])}function y(){t.length>1&&s(2,t=t.slice(0,-1))}async function N(){let p=t.map($=>$.id);if([...new Set(p)].length!==t.length||p.includes("")){alert("All character names must be unique and not blank.");return}s(1,a="Simulating..."),setTimeout(async()=>{s(1,a=await ve(t,u,{log_turns:!1,log_games:!1})),r()},0)}function m(p){fe[p?"unshift":"push"](()=>{o=p,s(0,o)})}function k(p,c){p[c].id=this.value,s(2,t)}function f(p,c){p[c].hp=F(this.value),s(2,t)}function T(p,c){p[c].attack=F(this.value),s(2,t)}function w(p,c){p[c].heal=F(this.value),s(2,t)}function D(p,c){p[c].defense_attack=F(this.value),s(2,t)}function O(){u=F(this.value),s(3,u)}return[o,a,t,u,h,y,N,m,k,f,T,w,D,O]}class be extends ae{constructor(l){super(),ne(this,l,ge,me,le,{})}}export{be as component};
