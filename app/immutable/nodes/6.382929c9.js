import{b as M}from"../chunks/paths.7a6662ca.js";import{S as R,i as C,s as I,k as z,l as D,m as H,h as _,p as x,n as P,b as W,J as E,o as B,w as J,a as N,y as F,D as G,c as K,z as Q,A as V,g as X,d as Y,B as Z}from"../chunks/index.38a6999c.js";new TextEncoder;function tt({params:a}){return{title:a.slug.split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join(" "),url:`${M}/markdown/${a.slug}.md`}}const et=!0,mt=Object.freeze(Object.defineProperty({__proto__:null,load:tt,prerender:et},Symbol.toStringTag,{value:"Module"}));function st(a){let t;return{c(){t=z("main"),this.h()},l(s){t=D(s,"MAIN",{style:!0,class:!0}),H(t).forEach(_),this.h()},h(){x(t,"height","calc(100% - "+a[0]+"px)"),P(t,"class","svelte-gipc32")},m(s,r){W(s,t,r),a[3](t)},p(s,[r]){r&1&&x(t,"height","calc(100% - "+s[0]+"px)")},i:E,o:E,d(s){s&&_(t),a[3](null)}}}async function nt(a){return await(await fetch(a)).text()}function at(a,t,s){let r=M,{markdownURL:i}=t,{offsetTop:n=0}=t,o;function $(c){var p;return(((p=c.match(/<style>[\s\S]*?<\/style>/g))==null?void 0:p.join(""))||"")+c.replace(/\n<style>[\s\S]*?<\/style>/g,"").split(`
`).map(e=>{var k,L,T,S,A,U;e=e.trim();const d=((k=e.match(/\{([^{}]+)\}/g))==null?void 0:k.map(l=>l.replace(/(\{|\})/g,"")))||[];let h="",u=[],f=[];for(let l=0;l<d.length;l++){const m=d[l],b=(L=m.match(/!([^ ]+)/))==null?void 0:L[1],j=(T=m.match(/#([^ ]+)/))==null?void 0:T[1],y=((S=m.match(/(^\.| \.)([^ ]+)/g))==null?void 0:S.map(v=>v.replace(/(^\.| \.)/,"")))||[],w=((A=m.match(/@([^ ]+)/g))==null?void 0:A.map(v=>v.replace(/@/,"")))||[];b?e=e.replace(`{${m}}`,`<img src="${r}${b}" alt="${b}"${j?` id="${j}"`:""}${y.length?` class="${y.join(" ")}"`:""}${w.length?` state="${w.join(" ")}"`:""}/>`):(h=j,u=y,f=w,e=e.replace(`{${m}}`,"").trim())}if(e.startsWith("#")){const l=((U=e.match(/^(#+)/))==null?void 0:U[0].length)||1,m=e.replace(/^(#+\s*)/,"").trim();return`<h${l}${h?` id="${h}"`:""}${u.length>0?` class="${u.join(" ")}"`:""}${f.length>0?` state="${f.join(" ")}"`:""}>${m}</h${l}>`}else if(e.startsWith("{")){const l=e.replace(/^{/,"").replace(/}$/,"").trim();return`<div${h?` id="${h}"`:""}${u.length>0?` class="${u.join(" ")}"`:""}${f.length>0?` state="${f.join(" ")}"`:""}>${l}${e.endsWith("}")?"</div>":""}`}else return e.startsWith("}")?"</div>":e.match(/^<img[^>]+>$/)?e:e===""&&d.length===0?"<br>":`<p${h?` id="${h}"`:""}${u.length>0?` class="${u.join(" ")}"`:""}${f.length>0?` state="${f.join(" ")}"`:""}>${e}</p>`}).join("")}function O(c){o&&c.forEach(g=>{var e;(((e=g.target.getAttribute("state"))==null?void 0:e.split(" "))||[]).forEach(d=>{o.classList.toggle(d,g.isIntersecting)})})}B(()=>{nt(i).then(c=>{const g=$(c);s(1,o.innerHTML=g,o);const p=new IntersectionObserver(O,{root:o,rootMargin:"0px",threshold:.5});o.querySelectorAll("[state]").forEach(e=>p.observe(e))})});function q(c){J[c?"unshift":"push"](()=>{o=c,s(1,o)})}return a.$$set=c=>{"markdownURL"in c&&s(2,i=c.markdownURL),"offsetTop"in c&&s(0,n=c.offsetTop)},[n,o,i,q]}class rt extends R{constructor(t){super(),C(this,t,at,st,I,{markdownURL:2,offsetTop:0})}}function ot(a){let t,s,r,i;return document.title=t=a[0].title,r=new rt({props:{markdownURL:a[0].url}}),{c(){s=N(),F(r.$$.fragment)},l(n){G("svelte-tef83d",document.head).forEach(_),s=K(n),Q(r.$$.fragment,n)},m(n,o){W(n,s,o),V(r,n,o),i=!0},p(n,[o]){(!i||o&1)&&t!==(t=n[0].title)&&(document.title=t);const $={};o&1&&($.markdownURL=n[0].url),r.$set($)},i(n){i||(X(r.$$.fragment,n),i=!0)},o(n){Y(r.$$.fragment,n),i=!1},d(n){n&&_(s),Z(r,n)}}}function ct(a,t,s){let{data:r}=t;return a.$$set=i=>{"data"in i&&s(0,r=i.data)},[r]}class ht extends R{constructor(t){super(),C(this,t,ct,ot,I,{data:0})}}export{ht as component,mt as universal};
