import{S as re,i as ie,s as ne,k as D,T as P,a as j,l as I,m,U as q,h as u,c as M,n as e,L as S,b as ae,E as n,N as $,O as F,I as ee,M as ce,P as oe,o as de,j as fe,q as ue,r as he,u as ve,w as te}from"../chunks/index.508fdf22.js";import{d as me,e as ge}from"../chunks/gestures.a2c2b0ad.js";function se(r,a,l){const v=r.slice();return v[29]=a[l],v[31]=l,v}function le(r){let a,l,v,d,g=r[29].title+"",k,s,f,i,T,p,w,B;function H(){return r[11](r[29])}return{c(){a=D("div"),l=D("div"),v=j(),d=D("p"),k=ue(g),s=j(),f=D("div"),i=P("svg"),T=P("path"),this.h()},l(b){a=I(b,"DIV",{id:!0,class:!0});var c=m(a);l=I(c,"DIV",{class:!0}),m(l).forEach(u),v=M(c),d=I(c,"P",{class:!0});var C=m(d);k=he(C,g),C.forEach(u),s=M(c),f=I(c,"DIV",{id:!0,class:!0});var W=m(f);i=q(W,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,class:!0});var V=m(i);T=q(V,"path",{"fill-rule":!0,d:!0}),m(T).forEach(u),V.forEach(u),W.forEach(u),c.forEach(u),this.h()},h(){e(l,"class","tab-divider svelte-11mt5sy"),e(d,"class","svelte-11mt5sy"),e(T,"fill-rule","evenodd"),e(T,"d","M21.002,26.588l10.357,10.604c1.039,1.072,1.715,1.083,2.773,0l2.078-2.128 c1.018-1.042,1.087-1.726,0-2.839L25.245,21L36.211,9.775c1.027-1.055,1.047-1.767,0-2.84l-2.078-2.127 c-1.078-1.104-1.744-1.053-2.773,0L21.002,15.412L10.645,4.809c-1.029-1.053-1.695-1.104-2.773,0L5.794,6.936 c-1.048,1.073-1.029,1.785,0,2.84L16.759,21L5.794,32.225c-1.087,1.113-1.029,1.797,0,2.839l2.077,2.128 c1.049,1.083,1.725,1.072,2.773,0L21.002,26.588z"),e(i,"fill","currentColor"),e(i,"version","1.1"),e(i,"xmlns","http://www.w3.org/2000/svg"),e(i,"viewBox","0 0 42 42"),e(i,"class","svelte-11mt5sy"),e(f,"id","close-tab"),e(f,"class","tab-bar-btn svelte-11mt5sy"),e(a,"id",p=r[29].id),e(a,"class","tab svelte-11mt5sy"),S(a,"active",r[29].id===r[1])},m(b,c){ae(b,a,c),n(a,l),n(a,v),n(a,d),n(d,k),n(a,s),n(a,f),n(f,i),n(i,T),w||(B=F(f,"click",H),w=!0)},p(b,c){r=b,c[0]&1&&g!==(g=r[29].title+"")&&ve(k,g),c[0]&1&&p!==(p=r[29].id)&&e(a,"id",p),c[0]&3&&S(a,"active",r[29].id===r[1])},d(b){b&&u(a),w=!1,B()}}}function pe(r){let a,l,v,d,g,k,s,f,i,T,p,w,B,H,b,c,C,W,V,G,R,x,U,z,N,J,O=r[0],_=[];for(let h=0;h<O.length;h+=1)_[h]=le(se(r,O,h));return{c(){a=D("div"),l=D("div"),v=D("div"),d=P("svg"),g=P("path"),k=j(),s=D("div");for(let h=0;h<_.length;h+=1)_[h].c();f=j(),i=D("div"),T=j(),p=D("div"),w=P("svg"),B=P("path"),H=j(),b=D("div"),c=P("svg"),C=P("path"),W=j(),V=D("div"),G=j(),R=D("div"),x=D("textarea"),U=j(),z=D("div"),this.h()},l(h){a=I(h,"DIV",{class:!0});var E=m(a);l=I(E,"DIV",{class:!0});var o=m(l);v=I(o,"DIV",{id:!0,class:!0});var t=m(v);d=q(t,"svg",{viewBox:!0,xmlns:!0,fill:!0,transform:!0,class:!0});var y=m(d);g=q(y,"path",{fill:!0,d:!0}),m(g).forEach(u),y.forEach(u),t.forEach(u),k=M(o),s=I(o,"DIV",{id:!0,class:!0});var L=m(s);for(let K=0;K<_.length;K+=1)_[K].l(L);f=M(L),i=I(L,"DIV",{id:!0,class:!0}),m(i).forEach(u),L.forEach(u),T=M(o),p=I(o,"DIV",{id:!0,class:!0});var A=m(p);w=q(A,"svg",{viewBox:!0,xmlns:!0,transform:!0,class:!0});var X=m(w);B=q(X,"path",{fill:!0,d:!0}),m(B).forEach(u),X.forEach(u),A.forEach(u),H=M(o),b=I(o,"DIV",{id:!0,class:!0});var Q=m(b);c=q(Q,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,"xml:space":!0,class:!0});var Y=m(c);C=q(Y,"path",{d:!0}),m(C).forEach(u),Y.forEach(u),Q.forEach(u),o.forEach(u),W=M(E),V=I(E,"DIV",{class:!0}),m(V).forEach(u),G=M(E),R=I(E,"DIV",{class:!0});var Z=m(R);x=I(Z,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),m(x).forEach(u),Z.forEach(u),U=M(E),z=I(E,"DIV",{class:!0}),m(z).forEach(u),E.forEach(u),this.h()},h(){e(g,"fill","currentColor"),e(g,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),e(d,"viewBox","-3 -3 22 22"),e(d,"xmlns","http://www.w3.org/2000/svg"),e(d,"fill","none"),e(d,"transform","rotate(270)"),e(d,"class","svelte-11mt5sy"),e(v,"id","back"),e(v,"class","tab-bar-btn svelte-11mt5sy"),S(v,"hide",!r[4]),e(i,"id","placeholder"),e(i,"class","tab svelte-11mt5sy"),e(s,"id","tabs"),e(s,"class","svelte-11mt5sy"),e(B,"fill","currentColor"),e(B,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),e(w,"viewBox","-3 -3 22 22"),e(w,"xmlns","http://www.w3.org/2000/svg"),e(w,"transform","rotate(90)"),e(w,"class","svelte-11mt5sy"),e(p,"id","forward"),e(p,"class","tab-bar-btn svelte-11mt5sy"),S(p,"hide",!r[4]),e(C,"d",`M39.5,22.5v-3c0-1.48-0.43-2-2-2h-13v-13c0-1.48-0.49-2-2-2h-3c-1.55,0-2,0.52-2,2v13h-14c-1.48,0-2,0.49-2,2v3\r
                c0,1.55,0.52,2,2,2h14v14c0,1.51,0.48,2,2,2h3c1.48,0,2-0.43,2-2v-14h13C39.01,24.5,39.5,24.02,39.5,22.5z`),e(c,"fill","currentColor"),e(c,"version","1.1"),e(c,"xmlns","http://www.w3.org/2000/svg"),e(c,"viewBox","0 0 42 42"),e(c,"xml:space","preserve"),e(c,"class","svelte-11mt5sy"),e(b,"id","new-tab"),e(b,"class","tab-bar-btn svelte-11mt5sy"),e(l,"class","tab-bar svelte-11mt5sy"),S(l,"minimal",!r[4]),e(V,"class","toolbar svelte-11mt5sy"),e(x,"spellcheck","false"),e(x,"name","editor"),e(x,"id","text"),e(x,"class","svelte-11mt5sy"),e(R,"class","editor svelte-11mt5sy"),e(z,"class","status-bar svelte-11mt5sy"),e(a,"class","main-grid svelte-11mt5sy")},m(h,E){ae(h,a,E),n(a,l),n(l,v),n(v,d),n(d,g),n(l,k),n(l,s);for(let o=0;o<_.length;o+=1)_[o]&&_[o].m(s,null);n(s,f),n(s,i),r[12](i),r[13](s),n(l,T),n(l,p),n(p,w),n(w,B),n(l,H),n(l,b),n(b,c),n(c,C),n(a,W),n(a,V),n(a,G),n(a,R),n(R,x),$(x,r[5].text),n(a,U),n(a,z),N||(J=[F(window,"resize",r[6]),F(v,"click",r[10]),F(p,"click",r[14]),F(b,"click",r[8]),F(x,"input",r[15])],N=!0)},p(h,E){if(E[0]&16&&S(v,"hide",!h[4]),E[0]&515){O=h[0];let o;for(o=0;o<O.length;o+=1){const t=se(h,O,o);_[o]?_[o].p(t,E):(_[o]=le(t),_[o].c(),_[o].m(s,f))}for(;o<_.length;o+=1)_[o].d(1);_.length=O.length}E[0]&16&&S(p,"hide",!h[4]),E[0]&16&&S(l,"minimal",!h[4]),E[0]&32&&$(x,h[5].text)},i:ee,o:ee,d(h){h&&u(a),ce(_,h),r[12](null),r[13](null),N=!1,oe(J)}}}function be(r,a,l){let v,d=[],g=[],k=null,s,f,i,T=0,p=0,w=!1,B=!1;const H=(t,y=300)=>{let L;return(...A)=>{clearTimeout(L),L=setTimeout(()=>{t.apply(this,A)},y)}},b=()=>{l(4,B=s.scrollWidth>s.clientWidth)},c=t=>{s.scrollBy({left:t,behavior:"smooth"})},C=()=>{let t=Date.now().toString();d.push({id:t,title:"Untitled",text:""}),g.push(t),l(0,d),V(t),setTimeout(()=>{l(2,s.scrollLeft=s.scrollWidth,s)},0)},W=t=>{let y=g.indexOf(t);l(0,d=d.filter(A=>A.id!=t)),g=g.filter(A=>A!=t);let L=document.createElement("div");L.classList.add("tab"),s.insertAdjacentElement("beforeend",L),H(()=>L.remove(),2e3)(),k==t&&V(g[Math.min(y,g.length-1)]||null)},V=t=>{k!=t&&((t==null||!g.includes(t))&&l(1,k=null),l(1,k=t))},G=t=>{w=!0,f=t.target,T=t.detail.x-f.getBoundingClientRect().x,f.insertAdjacentElement("afterend",i),s.insertAdjacentElement("afterend",f),f.classList.add("dragging"),f.style.setProperty("--max-width",`${i.clientWidth}px`),requestAnimationFrame(U)},R=t=>{p=t.detail.x,f.style.setProperty("--x",`${p-T}px`);let y=f.getBoundingClientRect().x+f.offsetWidth/2;for(let L=0;L<s.children.length;L++){let A=s.children[L];if(A===i)continue;let X=A.getBoundingClientRect();if(!(y<X.left||y>X.right)){i.getBoundingClientRect().left>X.left?A.insertAdjacentElement("beforebegin",i):A.insertAdjacentElement("afterend",i);break}}},x=()=>{w=!1,f.classList.remove("dragging"),i.insertAdjacentElement("afterend",f),i.remove(),g=[];for(let t=0;t<s.children.length;t++){let y=s.children[t];y.classList.contains("tab")&&g.push(y.id)}z()},U=()=>{w&&(p<s.offsetLeft&&l(2,s.scrollLeft-=2,s),p>s.offsetLeft+s.clientWidth&&l(2,s.scrollLeft+=2,s),requestAnimationFrame(U))},z=()=>{me();for(let t=0;t<s.children.length;t++){let y=s.children[t];y.classList.contains("tab")&&(ge(y),y.addEventListener("gesture",N))}},N=t=>{switch(t.detail.name){case"left-click-drag-start":case"longpress-drag-start":G(t);break;case"left-click-dragging":case"longpress-dragging":R(t);break;case"left-click-drag-end":case"longpress-drag-end":x();break;case"left-click":case"tap":V(t.target.id);break}};de(()=>{i.remove()}),fe(()=>{b(),z()});const J=()=>c(-80),O=t=>W(t.id);function _(t){te[t?"unshift":"push"](()=>{i=t,l(3,i)})}function h(t){te[t?"unshift":"push"](()=>{s=t,l(2,s)})}const E=()=>{c(80)};function o(){v.text=this.value,l(5,v),l(0,d),l(1,k)}return r.$$.update=()=>{r.$$.dirty[0]&3&&l(5,v=d.find(t=>t.id==k)||{text:"NEW TAB"})},[d,k,s,i,B,v,b,c,C,W,J,O,_,h,E,o]}class we extends re{constructor(a){super(),ie(this,a,be,pe,ne,{},null,[-1,-1])}}export{we as component};
