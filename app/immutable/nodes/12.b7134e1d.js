import{S as ce,i as oe,s as de,a as M,k as T,T as S,D as ue,h,c as j,l as D,m as p,U as q,n as t,L as P,b as le,E as i,N as ee,O as H,I as se,M as he,P as ie,o as fe,j as ve,w as ae}from"../chunks/index.508fdf22.js";import{d as ge,e as pe}from"../chunks/gestures.a2c2b0ad.js";function re(a,c,s){const o=a.slice();return o[34]=c[s],o[35]=c,o[36]=s,o}function ne(a){let c,s,o,n,f,v,l,r,g,I,y;function x(){a[12].call(n,a[35],a[36])}function L(){return a[13](a[34])}return{c(){c=T("div"),s=T("div"),o=M(),n=T("input"),f=M(),v=T("div"),l=S("svg"),r=S("path"),this.h()},l(E){c=D(E,"DIV",{id:!0,class:!0});var m=p(c);s=D(m,"DIV",{class:!0}),p(s).forEach(h),o=j(m),n=D(m,"INPUT",{name:!0,type:!0,class:!0}),f=j(m),v=D(m,"DIV",{id:!0,class:!0});var C=p(v);l=q(C,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,class:!0});var k=p(l);r=q(k,"path",{"fill-rule":!0,d:!0}),p(r).forEach(h),k.forEach(h),C.forEach(h),m.forEach(h),this.h()},h(){t(s,"class","tab-divider svelte-1xsd055"),t(n,"name","title-input"),t(n,"type","text"),t(n,"class","svelte-1xsd055"),t(r,"fill-rule","evenodd"),t(r,"d","M21.002,26.588l10.357,10.604c1.039,1.072,1.715,1.083,2.773,0l2.078-2.128 c1.018-1.042,1.087-1.726,0-2.839L25.245,21L36.211,9.775c1.027-1.055,1.047-1.767,0-2.84l-2.078-2.127 c-1.078-1.104-1.744-1.053-2.773,0L21.002,15.412L10.645,4.809c-1.029-1.053-1.695-1.104-2.773,0L5.794,6.936 c-1.048,1.073-1.029,1.785,0,2.84L16.759,21L5.794,32.225c-1.087,1.113-1.029,1.797,0,2.839l2.077,2.128 c1.049,1.083,1.725,1.072,2.773,0L21.002,26.588z"),t(l,"fill","currentColor"),t(l,"version","1.1"),t(l,"xmlns","http://www.w3.org/2000/svg"),t(l,"viewBox","0 0 42 42"),t(l,"class","svelte-1xsd055"),t(v,"id","close-tab"),t(v,"class","tab-bar-btn svelte-1xsd055"),t(c,"id",g=a[34].id),t(c,"class","tab svelte-1xsd055"),P(c,"closing",a[4]),P(c,"active",a[34].id===a[1])},m(E,m){le(E,c,m),i(c,s),i(c,o),i(c,n),ee(n,a[34].title),i(c,f),i(c,v),i(v,l),i(l,r),I||(y=[H(n,"input",x),H(v,"click",L)],I=!0)},p(E,m){a=E,m[0]&1&&n.value!==a[34].title&&ee(n,a[34].title),m[0]&1&&g!==(g=a[34].id)&&t(c,"id",g),m[0]&16&&P(c,"closing",a[4]),m[0]&3&&P(c,"active",a[34].id===a[1])},d(E){E&&h(c),I=!1,ie(y)}}}function me(a){let c,s,o,n,f,v,l,r,g,I,y,x,L,E,m,C,k,R,K,O,Q,W,A,X,U,F,Y,z=a[0],_=[];for(let u=0;u<z.length;u+=1)_[u]=ne(re(a,z,u));return{c(){c=M(),s=T("div"),o=T("div"),n=T("div"),f=S("svg"),v=S("path"),l=M(),r=T("div");for(let u=0;u<_.length;u+=1)_[u].c();g=M(),I=T("div"),y=M(),x=T("div"),L=S("svg"),E=S("path"),m=M(),C=T("div"),k=S("svg"),R=S("path"),K=M(),O=T("div"),Q=M(),W=T("div"),A=T("textarea"),X=M(),U=T("div"),this.h()},l(u){ue("svelte-x0909",document.head).forEach(h),c=j(u),s=D(u,"DIV",{class:!0});var d=p(s);o=D(d,"DIV",{class:!0});var B=p(o);n=D(B,"DIV",{id:!0,class:!0});var Z=p(n);f=q(Z,"svg",{viewBox:!0,xmlns:!0,fill:!0,transform:!0,class:!0});var $=p(f);v=q($,"path",{fill:!0,d:!0}),p(v).forEach(h),$.forEach(h),Z.forEach(h),l=j(B),r=D(B,"DIV",{id:!0,class:!0});var G=p(r);for(let te=0;te<_.length;te+=1)_[te].l(G);g=j(G),I=D(G,"DIV",{id:!0,class:!0}),p(I).forEach(h),G.forEach(h),y=j(B),x=D(B,"DIV",{id:!0,class:!0});var e=p(x);L=q(e,"svg",{viewBox:!0,xmlns:!0,transform:!0,class:!0});var b=p(L);E=q(b,"path",{fill:!0,d:!0}),p(E).forEach(h),b.forEach(h),e.forEach(h),m=j(B),C=D(B,"DIV",{id:!0,class:!0});var w=p(C);k=q(w,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,"xml:space":!0,class:!0});var N=p(k);R=q(N,"path",{d:!0}),p(R).forEach(h),N.forEach(h),w.forEach(h),B.forEach(h),K=j(d),O=D(d,"DIV",{class:!0}),p(O).forEach(h),Q=j(d),W=D(d,"DIV",{class:!0});var J=p(W);A=D(J,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),p(A).forEach(h),J.forEach(h),X=j(d),U=D(d,"DIV",{class:!0}),p(U).forEach(h),d.forEach(h),this.h()},h(){document.title="Not Notepad",t(v,"fill","currentColor"),t(v,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(f,"viewBox","-3 -3 22 22"),t(f,"xmlns","http://www.w3.org/2000/svg"),t(f,"fill","none"),t(f,"transform","rotate(270)"),t(f,"class","svelte-1xsd055"),t(n,"id","back"),t(n,"class","tab-bar-btn svelte-1xsd055"),P(n,"hide",!a[5]),t(I,"id","placeholder"),t(I,"class","tab svelte-1xsd055"),t(r,"id","tabs"),t(r,"class","svelte-1xsd055"),t(E,"fill","currentColor"),t(E,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(L,"viewBox","-3 -3 22 22"),t(L,"xmlns","http://www.w3.org/2000/svg"),t(L,"transform","rotate(90)"),t(L,"class","svelte-1xsd055"),t(x,"id","forward"),t(x,"class","tab-bar-btn svelte-1xsd055"),P(x,"hide",!a[5]),t(R,"d",`M39.5,22.5v-3c0-1.48-0.43-2-2-2h-13v-13c0-1.48-0.49-2-2-2h-3c-1.55,0-2,0.52-2,2v13h-14c-1.48,0-2,0.49-2,2v3\r
                  c0,1.55,0.52,2,2,2h14v14c0,1.51,0.48,2,2,2h3c1.48,0,2-0.43,2-2v-14h13C39.01,24.5,39.5,24.02,39.5,22.5z`),t(k,"fill","currentColor"),t(k,"version","1.1"),t(k,"xmlns","http://www.w3.org/2000/svg"),t(k,"viewBox","0 0 42 42"),t(k,"xml:space","preserve"),t(k,"class","svelte-1xsd055"),t(C,"id","new-tab"),t(C,"class","tab-bar-btn svelte-1xsd055"),t(o,"class","tab-bar svelte-1xsd055"),P(o,"minimal",!a[5]),t(O,"class","toolbar svelte-1xsd055"),t(A,"spellcheck","false"),t(A,"name","editor"),t(A,"id","text"),t(A,"class","svelte-1xsd055"),t(W,"class","editor svelte-1xsd055"),t(U,"class","status-bar svelte-1xsd055"),t(s,"class","main-grid svelte-1xsd055")},m(u,V){le(u,c,V),le(u,s,V),i(s,o),i(o,n),i(n,f),i(f,v),i(o,l),i(o,r);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(r,null);i(r,g),i(r,I),a[14](I),a[15](r),i(o,y),i(o,x),i(x,L),i(L,E),i(o,m),i(o,C),i(C,k),i(k,R),i(s,K),i(s,O),i(s,Q),i(s,W),i(W,A),ee(A,a[6].text),i(s,X),i(s,U),F||(Y=[H(window,"resize",a[7]),H(n,"click",a[11]),H(x,"click",a[16]),H(C,"click",a[9]),H(A,"input",a[17])],F=!0)},p(u,V){if(V[0]&32&&P(n,"hide",!u[5]),V[0]&1043){z=u[0];let d;for(d=0;d<z.length;d+=1){const B=re(u,z,d);_[d]?_[d].p(B,V):(_[d]=ne(B),_[d].c(),_[d].m(r,g))}for(;d<_.length;d+=1)_[d].d(1);_.length=z.length}V[0]&32&&P(x,"hide",!u[5]),V[0]&32&&P(o,"minimal",!u[5]),V[0]&64&&ee(A,u[6].text)},i:se,o:se,d(u){u&&h(c),u&&h(s),he(_,u),a[14](null),a[15](null),F=!1,ie(Y)}}}function be(a,c,s){let o,n=[],f=[],v=null,l,r,g,I=0,y=0,x=0,L=!1,E=!1,m=!1;const C=(e,b=300)=>{let w;return(...N)=>{clearTimeout(w),w=setTimeout(()=>{e.apply(this,N)},b)}},k=()=>{s(5,m=l.scrollWidth>l.clientWidth)},R=e=>{l.scrollBy({left:e,behavior:"smooth"})},K=()=>{let e=Date.now().toString();n.push({id:e,title:"Untitled",text:""}),f.push(e),s(0,n),W(e),setTimeout(()=>{s(2,l.scrollLeft=l.scrollWidth,l)},0)},O=e=>{let b=f.indexOf(e);if(s(0,n=n.filter(w=>w.id!=e)),f=f.filter(w=>w!=e),s(4,L=!0),x=l.children[b].clientWidth,l.style.setProperty("--max-width",`${x}px`),m){let w=g.cloneNode();w.classList.add("filler"),w.style.backgroundColor="transparent",w.style.pointerEvents="none",l.appendChild(w)}Q(),v==e&&W(f[Math.min(b,f.length-1)]||null)},Q=C(()=>{l.querySelectorAll(".filler").forEach(e=>{e.remove()}),s(4,L=!1)},700),W=e=>{v!=e&&((e==null||!f.includes(e))&&s(1,v=null),s(1,v=e))},A=e=>{E=!0,r=e.target,I=e.detail.x-r.getBoundingClientRect().x,r.insertAdjacentElement("afterend",g),l.insertAdjacentElement("afterend",r),r.classList.add("dragging"),r.style.setProperty("--max-width",`${g.clientWidth}px`),requestAnimationFrame(F),X(e),setTimeout(()=>{r.classList.add("dragging-then")},0)},X=e=>{y=e.detail.x,r.style.setProperty("--x",`${y-I}px`);let b=r.getBoundingClientRect().x+r.offsetWidth/2;for(let w=0;w<l.children.length;w++){let N=l.children[w];if(N===g)continue;let J=N.getBoundingClientRect();if(!(b<J.left||b>J.right)){g.getBoundingClientRect().left>J.left?N.insertAdjacentElement("beforebegin",g):N.insertAdjacentElement("afterend",g);break}}},U=()=>{E=!1,r.classList.remove("dragging"),r.classList.remove("dragging-then"),g.insertAdjacentElement("afterend",r),g.remove(),f=[];for(let e=0;e<l.children.length;e++){let b=l.children[e];b.classList.contains("tab")&&f.push(b.id)}z()},F=()=>{E&&(y<l.offsetLeft&&s(2,l.scrollLeft-=2,l),y>l.offsetLeft+l.clientWidth&&s(2,l.scrollLeft+=2,l),requestAnimationFrame(F))},Y=e=>{if(!e.classList.contains("tab"))return;e.children.namedItem("title-input").select()},z=()=>{ge();for(let e=0;e<l.children.length;e++){let b=l.children[e];b.classList.contains("tab")&&(pe(b),b.addEventListener("gesture",_))}},_=e=>{switch(e.detail.name){case"left-click-drag-start":case"longclick":case"longpress":e.detail.event.preventDefault(),A(e);break;case"left-click-dragging":case"longclick-dragging":case"longpress-dragging":X(e);break;case"left-click-drag-end":case"longclick-drag-end":case"longclick-release":case"longpress-drag-end":case"longpress-release":U();break;case"left-click":case"tap":W(e.target.id);break;case"double-click":case"double-tap":Y(e.target);break}};fe(()=>{g.remove()}),ve(()=>{k(),z()});const u=()=>R(-80);function V(e,b){e[b].title=this.value,s(0,n)}const d=e=>O(e.id);function B(e){ae[e?"unshift":"push"](()=>{g=e,s(3,g)})}function Z(e){ae[e?"unshift":"push"](()=>{l=e,s(2,l)})}const $=()=>{R(80)};function G(){o.text=this.value,s(6,o),s(0,n),s(1,v)}return a.$$.update=()=>{a.$$.dirty[0]&3&&s(6,o=n.find(e=>e.id==v)||{text:"Click the âž• above to create a new tab."})},[n,v,l,g,L,m,o,k,R,K,O,u,V,d,B,Z,$,G]}class we extends ce{constructor(c){super(),oe(this,c,be,me,de,{},null,[-1,-1])}}export{we as component};
