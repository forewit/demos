import{S as ie,i as re,s as ne,k,T as y,a as V,l as q,m as v,U as R,h,c as A,n as t,L as z,b as ae,E as o,N as $,O as F,I as ee,M as oe,P as ce,o as de,j as fe,q as he,r as ve,u as ue,w as te}from"../chunks/index.508fdf22.js";import{d as ge,e as me}from"../chunks/gestures.a2c2b0ad.js";function le(s,a,i){const l=s.slice();return l[26]=a[i],l[28]=i,l}function se(s){let a,i,l,p,w=s[26].title+"",r,E,j,g,I,_,f,u;function T(){return s[11](s[26],s[28])}return{c(){a=k("div"),i=k("div"),l=V(),p=k("p"),r=he(w),E=V(),j=k("div"),g=y("svg"),I=y("path"),this.h()},l(m){a=q(m,"DIV",{id:!0,class:!0});var c=v(a);i=q(c,"DIV",{class:!0}),v(i).forEach(h),l=A(c),p=q(c,"P",{class:!0});var x=v(p);r=ve(x,w),x.forEach(h),E=A(c),j=q(c,"DIV",{id:!0,class:!0});var C=v(j);g=R(C,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,class:!0});var B=v(g);I=R(B,"path",{"fill-rule":!0,d:!0}),v(I).forEach(h),B.forEach(h),C.forEach(h),c.forEach(h),this.h()},h(){t(i,"class","tab-divider svelte-aqjism"),t(p,"class","svelte-aqjism"),t(I,"fill-rule","evenodd"),t(I,"d","M21.002,26.588l10.357,10.604c1.039,1.072,1.715,1.083,2.773,0l2.078-2.128 c1.018-1.042,1.087-1.726,0-2.839L25.245,21L36.211,9.775c1.027-1.055,1.047-1.767,0-2.84l-2.078-2.127 c-1.078-1.104-1.744-1.053-2.773,0L21.002,15.412L10.645,4.809c-1.029-1.053-1.695-1.104-2.773,0L5.794,6.936 c-1.048,1.073-1.029,1.785,0,2.84L16.759,21L5.794,32.225c-1.087,1.113-1.029,1.797,0,2.839l2.077,2.128 c1.049,1.083,1.725,1.072,2.773,0L21.002,26.588z"),t(g,"fill","currentColor"),t(g,"version","1.1"),t(g,"xmlns","http://www.w3.org/2000/svg"),t(g,"viewBox","0 0 42 42"),t(g,"class","svelte-aqjism"),t(j,"id","close-tab"),t(j,"class","tab-bar-btn svelte-aqjism"),t(a,"id",_=s[26].id),t(a,"class","tab svelte-aqjism"),z(a,"active",s[26].id===s[2])},m(m,c){ae(m,a,c),o(a,i),o(a,l),o(a,p),o(p,r),o(a,E),o(a,j),o(j,g),o(g,I),f||(u=F(j,"click",T),f=!0)},p(m,c){s=m,c&1&&w!==(w=s[26].title+"")&&ue(r,w),c&1&&_!==(_=s[26].id)&&t(a,"id",_),c&5&&z(a,"active",s[26].id===s[2])},d(m){m&&h(a),f=!1,u()}}}function pe(s){let a,i,l,p,w,r,E,j,g,I,_,f,u,T,m,c,x,C,B,S,W,L,U,P,X,G,M=s[0],b=[];for(let e=0;e<M.length;e+=1)b[e]=se(le(s,M,e));return{c(){a=k("div"),i=k("div"),l=k("div"),p=y("svg"),w=y("path"),r=V(),E=k("div");for(let e=0;e<b.length;e+=1)b[e].c();j=V(),g=k("div"),I=V(),_=k("div"),f=y("svg"),u=y("path"),T=V(),m=k("div"),c=y("svg"),x=y("path"),C=V(),B=k("div"),S=V(),W=k("div"),L=k("textarea"),U=V(),P=k("div"),this.h()},l(e){a=q(e,"DIV",{class:!0});var d=v(a);i=q(d,"DIV",{class:!0});var n=v(i);l=q(n,"DIV",{id:!0,class:!0});var D=v(l);p=R(D,"svg",{viewBox:!0,xmlns:!0,fill:!0,transform:!0,class:!0});var O=v(p);w=R(O,"path",{fill:!0,d:!0}),v(w).forEach(h),O.forEach(h),D.forEach(h),r=A(n),E=q(n,"DIV",{id:!0,class:!0});var N=v(E);for(let H=0;H<b.length;H+=1)b[H].l(N);j=A(N),g=q(N,"DIV",{id:!0,class:!0}),v(g).forEach(h),N.forEach(h),I=A(n),_=q(n,"DIV",{id:!0,class:!0});var J=v(_);f=R(J,"svg",{viewBox:!0,xmlns:!0,transform:!0,class:!0});var K=v(f);u=R(K,"path",{fill:!0,d:!0}),v(u).forEach(h),K.forEach(h),J.forEach(h),T=A(n),m=q(n,"DIV",{id:!0,class:!0});var Q=v(m);c=R(Q,"svg",{fill:!0,version:!0,xmlns:!0,viewBox:!0,"xml:space":!0,class:!0});var Y=v(c);x=R(Y,"path",{d:!0}),v(x).forEach(h),Y.forEach(h),Q.forEach(h),n.forEach(h),C=A(d),B=q(d,"DIV",{class:!0}),v(B).forEach(h),S=A(d),W=q(d,"DIV",{class:!0});var Z=v(W);L=q(Z,"TEXTAREA",{spellcheck:!0,name:!0,id:!0,class:!0}),v(L).forEach(h),Z.forEach(h),U=A(d),P=q(d,"DIV",{class:!0}),v(P).forEach(h),d.forEach(h),this.h()},h(){t(w,"fill","currentColor"),t(w,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(p,"viewBox","-3 -3 22 22"),t(p,"xmlns","http://www.w3.org/2000/svg"),t(p,"fill","none"),t(p,"transform","rotate(270)"),t(p,"class","svelte-aqjism"),t(l,"id","back"),t(l,"class","tab-bar-btn svelte-aqjism"),z(l,"hide",!s[1]),t(g,"id","placeholder"),t(g,"class","tab svelte-aqjism"),t(E,"id","tabs"),t(E,"class","svelte-aqjism"),t(u,"fill","currentColor"),t(u,"d","M8 1.25a2.101 2.101 0 00-1.785.996l.64.392-.642-.388-5.675 9.373-.006.01a2.065 2.065 0 00.751 2.832c.314.183.67.281 1.034.285h11.366a2.101 2.101 0 001.791-1.045 2.064 2.064 0 00-.006-2.072L9.788 2.25l-.003-.004A2.084 2.084 0 008 1.25z"),t(f,"viewBox","-3 -3 22 22"),t(f,"xmlns","http://www.w3.org/2000/svg"),t(f,"transform","rotate(90)"),t(f,"class","svelte-aqjism"),t(_,"id","forward"),t(_,"class","tab-bar-btn svelte-aqjism"),z(_,"hide",!s[1]),t(x,"d",`M39.5,22.5v-3c0-1.48-0.43-2-2-2h-13v-13c0-1.48-0.49-2-2-2h-3c-1.55,0-2,0.52-2,2v13h-14c-1.48,0-2,0.49-2,2v3\r
                c0,1.55,0.52,2,2,2h14v14c0,1.51,0.48,2,2,2h3c1.48,0,2-0.43,2-2v-14h13C39.01,24.5,39.5,24.02,39.5,22.5z`),t(c,"fill","currentColor"),t(c,"version","1.1"),t(c,"xmlns","http://www.w3.org/2000/svg"),t(c,"viewBox","0 0 42 42"),t(c,"xml:space","preserve"),t(c,"class","svelte-aqjism"),t(m,"id","new-tab"),t(m,"class","tab-bar-btn svelte-aqjism"),t(i,"class","tab-bar svelte-aqjism"),z(i,"minimal",!s[1]),t(B,"class","toolbar svelte-aqjism"),t(L,"spellcheck","false"),t(L,"name","editor"),t(L,"id","text"),t(L,"class","svelte-aqjism"),t(W,"class","editor svelte-aqjism"),t(P,"class","status-bar svelte-aqjism"),t(a,"class","main-grid svelte-aqjism")},m(e,d){ae(e,a,d),o(a,i),o(i,l),o(l,p),o(p,w),o(i,r),o(i,E);for(let n=0;n<b.length;n+=1)b[n]&&b[n].m(E,null);o(E,j),o(E,g),s[12](g),s[13](E),o(i,I),o(i,_),o(_,f),o(f,u),o(i,T),o(i,m),o(m,c),o(c,x),o(a,C),o(a,B),o(a,S),o(a,W),o(W,L),$(L,s[0][s[0].findIndex(s[9])].text),o(a,U),o(a,P),X||(G=[F(window,"resize",s[5]),F(l,"click",s[10]),F(_,"click",s[14]),F(m,"click",s[7]),F(L,"input",s[15])],X=!0)},p(e,[d]){if(d&2&&z(l,"hide",!e[1]),d&261){M=e[0];let n;for(n=0;n<M.length;n+=1){const D=le(e,M,n);b[n]?b[n].p(D,d):(b[n]=se(D),b[n].c(),b[n].m(E,j))}for(;n<b.length;n+=1)b[n].d(1);b.length=M.length}d&2&&z(_,"hide",!e[1]),d&2&&z(i,"minimal",!e[1]),d&5&&$(L,e[0][e[0].findIndex(e[9])].text)},i:ee,o:ee,d(e){e&&h(a),oe(b,e),s[12](null),s[13](null),X=!1,ce(G)}}}function _e(s,a,i){let l=[{id:Date.now().toString(),title:"long... really long",text:"sup!"}],p=!1,w=l[0].id,r;function E(){i(1,p=r.scrollWidth>r.clientWidth)}function j(e){r.scrollBy({left:e,behavior:"smooth"})}function g(){l.push({id:Date.now().toString(),title:"tab "+(l.length+1),text:""}),i(0,l),_(l[l.length-1].id),setTimeout(()=>{i(3,r.scrollLeft=r.scrollWidth,r)},0)}function I(e,d){let n=l.findIndex(D=>D.id===e);if(l.splice(n,1),i(0,l),l.length==0){g();return}_(d)}function _(e){w!==e&&i(2,w=e)}let f,u,T=0,m=0,c=!1;function x(e){c=!0,f=e.target,T=e.detail.x-f.getBoundingClientRect().x,f.insertAdjacentElement("afterend",u),r.insertAdjacentElement("afterend",f),f.classList.add("dragging"),f.style.setProperty("--max-width",`${u.clientWidth}px`),requestAnimationFrame(S)}function C(e){m=e.detail.x,f.style.setProperty("--x",`${m-T}px`);let d=f.getBoundingClientRect().x+f.offsetWidth/2;for(let n=0;n<r.children.length;n++){let D=r.children[n];if(D===u)continue;let O=D.getBoundingClientRect();if(!(d<O.left||d>O.right)){u.getBoundingClientRect().left>O.left?(D.insertAdjacentElement("beforebegin",u),console.log("swap left")):(D.insertAdjacentElement("afterend",u),console.log("swap right"));break}}}function B(){c=!1,f.classList.remove("dragging"),u.insertAdjacentElement("afterend",f),u.remove(),console.log(l)}function S(){c&&(m<r.offsetLeft&&r.scrollLeft>0&&r.scrollBy({left:-2,behavior:"instant"}),m>r.offsetLeft+r.clientWidth&&r.scrollLeft+r.clientWidth<r.scrollWidth&&r.scrollBy({left:2,behavior:"instant"}),requestAnimationFrame(S))}function W(e){switch(e.detail.name){case"left-click-drag-start":case"longpress-drag-start":x(e);break;case"left-click-dragging":case"longpress-dragging":C(e);break;case"left-click-drag-end":case"longpress-drag-end":B();break;case"left-click":case"tap":_(e.target.id);break}}de(()=>{u.remove()}),fe(()=>{E(),ge();for(let e=0;e<r.children.length;e++){let d=r.children[e];me(d),d.addEventListener("gesture",W)}});const L=e=>e.id==w,U=()=>j(-80),P=(e,d)=>I(e.id,l[Math.max(d-1,0)].id);function X(e){te[e?"unshift":"push"](()=>{u=e,i(4,u)})}function G(e){te[e?"unshift":"push"](()=>{r=e,i(3,r)})}const M=()=>{j(80)};function b(){l[l.findIndex(e=>e.id==w)].text=this.value,i(0,l)}return[l,p,w,r,u,E,j,g,I,L,U,P,X,G,M,b]}class Ee extends ie{constructor(a){super(),re(this,a,_e,pe,ne,{})}}export{Ee as component};
